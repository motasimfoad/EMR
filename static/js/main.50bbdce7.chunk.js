(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},123:function(e,t,a){e.exports=a(300)},130:function(e,t,a){},132:function(e,t,a){},134:function(e,t,a){},300:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(30),c=a.n(r),o=a(27),i=a(307),s=a(302),m=a(310),u=a(303),d=(a(128),a(130),a(132),a(134),a(7)),p=a(8),h=a(11),E=a(9),g=a(10),b=a(60),f=a(309),y=a(3),v=a(2),O=a(6),j=a(65),k=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.children.length;t++)e.push(l.a.createElement("i",{className:this.props.children[t].i,key:t})),e.push(" "+this.props.children[t].t),t!==this.props.children.length-1&&e.push(l.a.createElement("br",null));return l.a.createElement("div",{className:"stats"},e)}}]),t}(l.a.Component),C=a(5),N=a.n(C),w=a(12);function x(){var e=Object(O.a)(["\n       {\n        prescriptionCount: _allPrescriptionsMeta {\n        count\n      }\n   }\n    "]);return x=function(){return e},e}function S(){var e=Object(O.a)(["\n      {\n      reportCount: _allReportsMeta {\n        count\n      }\n    }\n    "]);return S=function(){return e},e}function I(){var e=Object(O.a)(['\n       {\n        userCount: _allUsersMeta(\n          filter : {\n            utype : "Admin"\n          }\n        ) {\n          count\n        }\n      }\n    ']);return I=function(){return e},e}function P(){var e=Object(O.a)(['\n       {\n        userCount: _allUsersMeta(\n          filter : {\n            utype : "Pharmacy"\n          }\n        ) {\n          count\n        }\n      }\n    ']);return P=function(){return e},e}function D(){var e=Object(O.a)(['\n       {\n        userCount: _allUsersMeta(\n          filter : {\n            utype : "Hospital"\n          }\n        ) {\n          count\n        }\n      }\n    ']);return D=function(){return e},e}function U(){var e=Object(O.a)(['\n       {\n        userCount: _allUsersMeta(\n          filter : {\n            utype : "Doctor"\n          }\n        ) {\n          count\n        }\n      }\n    ']);return U=function(){return e},e}function A(){var e=Object(O.a)(['\n       {\n        userCount: _allUsersMeta(\n          filter : {\n            utype : "Patient"\n          }\n        ) {\n          count\n        }\n      }\n    ']);return A=function(){return e},e}function $(){var e=Object(O.a)(["\n       {\n        userCount: _allUsersMeta {\n          count\n        }\n      }\n    "]);return $=function(){return e},e}function T(){var e=Object(O.a)(['\n      {\n      prescriptionCount: _allPrescriptionsMeta(\n         filter : {\n          details_contains : "cancer"\n        }\n      ) {\n        count\n      }\n    }\n    ']);return T=function(){return e},e}function q(){var e=Object(O.a)(['\n      {\n      prescriptionCount: _allPrescriptionsMeta(\n         filter : {\n          details_contains : "diabetes"\n        }\n      ) {\n        count\n      }\n    }\n    ']);return q=function(){return e},e}function R(){var e=Object(O.a)(['\n      {\n      prescriptionCount: _allPrescriptionsMeta(\n         filter : {\n          details_contains : "diarrhoea"\n        }\n      ) {\n        count\n      }\n    }\n    ']);return R=function(){return e},e}function B(){var e=Object(O.a)(['\n      {\n      prescriptionCount: _allPrescriptionsMeta(\n         filter : {\n          details_contains : "malaria"\n        }\n      ) {\n        count\n      }\n    }\n    ']);return B=function(){return e},e}function M(){var e=Object(O.a)(['\n      {\n      prescriptionCount: _allPrescriptionsMeta(\n         filter : {\n          details_contains : "pneumonia"\n        }\n      ) {\n        count\n      }\n    }\n    ']);return M=function(){return e},e}function _(){var e=Object(O.a)(['\n      {\n      prescriptionCount: _allPrescriptionsMeta(\n         filter : {\n          details_contains : "fever"\n        }\n      ) {\n        count\n      }\n    }\n    ']);return _=function(){return e},e}function L(){var e=Object(O.a)(['\n      {\n      prescriptionCount: _allPrescriptionsMeta(\n         filter : {\n          details_contains : "typhoid"\n        }\n      ) {\n        count\n      }\n    }\n    ']);return L=function(){return e},e}function z(){var e=Object(O.a)(["\n {\n        prescriptionCount: _allPrescriptionsMeta {\n        count\n      }\n   }\n"]);return z=function(){return e},e}function H(){var e=Object(O.a)(["\n {\n      reportCount: _allReportsMeta {\n        count\n      }\n    }\n"]);return H=function(){return e},e}function W(){var e=Object(O.a)(["\n {\n      userCount: _allUsersMeta {\n        count\n      }\n    }\n"]);return W=function(){return e},e}var Q=N()(W()),Y=N()(H()),V=N()(z()),F=function(e){function t(e){var a;return Object(d.a)(this,t),a=Object(h.a)(this,Object(E.a)(t).call(this,e)),"undefined"==typeof e.history.location.state||null==e.history.location.state?a.props.history.push({pathname:"/unauth"}):a.state={logInfoId:a.props.history.location.state.logInfo[1],logInfoToken:a.props.history.location.state.logInfo[0],patient:"",doctor:"",pharmacy:"",hospital:"",admin:"",rep:"",pres:"",user:"",fever:"",typhoid:"",pneumonia:"",malaria:"",diarrhoea:"",diabetes:"",cancer:""},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;_t.query({query:N()(L())}).then(function(t){e.setState({fever:t.data.prescriptionCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(_())}).then(function(t){e.setState({typhoid:t.data.prescriptionCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(M())}).then(function(t){e.setState({pneumonia:t.data.prescriptionCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(B())}).then(function(t){e.setState({malaria:t.data.prescriptionCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(R())}).then(function(t){e.setState({diarrhoea:t.data.prescriptionCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(q())}).then(function(t){e.setState({diabetes:t.data.prescriptionCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(T())}).then(function(t){e.setState({cancer:t.data.prescriptionCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()($())}).then(function(t){e.setState({user:t.data.userCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(A())}).then(function(t){e.setState({patient:t.data.userCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(U())}).then(function(t){e.setState({doctor:t.data.userCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(D())}).then(function(t){e.setState({hospital:t.data.userCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(P())}).then(function(t){e.setState({pharmacy:t.data.userCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(I())}).then(function(t){e.setState({admin:t.data.userCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(S())}).then(function(t){e.setState({rep:t.data.reportCount.count})}).catch(function(e){console.log(e)}),_t.query({query:N()(x())}).then(function(t){e.setState({pres:t.data.prescriptionCount.count})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t={data:function(t){return{labels:["Report","Prescription","User"],datasets:[{backgroundColor:["#2ecc71","#ef8157","#fcc468"],data:[e.state.rep,e.state.pres,e.state.user]}],options:{scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}}}},a={data:function(t){return{labels:["","Fever","Typhoid","Pneumonia","Malaria","Diarrhoea","Diabetes","Cancer",""],datasets:[{label:"No of affected patients",backgroundColor:["#e3e3e3","#4acccd","#fcc468","#ef8157","#2ecc71","#badc58","#e056fd","#eb4d4b"],data:[0,e.state.fever,e.state.typhoid,e.state.pneumonia,e.state.malaria,e.state.diarrhoea,e.state.diabetes,e.state.cancer,0]}],options:{scales:{xAxes:[{stacked:!1,gridLines:{offsetGridLines:!1},ticks:{beginAtZero:!1},maintainAspectRatio:!1}],yAxes:[{stacked:!1,ticks:{beginAtZero:!1},maintainAspectRatio:!1}]}}}}},n={data:function(t){return{labels:["Patient","Doctor","Hospital","Pharmacy","Admin"],datasets:[{label:"Users Record (Role Based)",pointRadius:0,pointHoverRadius:0,backgroundColor:["#e3e3e3","#4acccd","#fcc468","#ef8157","#2ecc71"],borderWidth:0,data:[e.state.patient,e.state.doctor,e.state.hospital,e.state.pharmacy,e.state.admin]}]}},options:{legend:{display:!0},pieceLabel:{render:"percentage",fontColor:["white"],precision:2},tooltips:{enabled:!0},scales:{yAxes:[{ticks:{display:!1},gridLines:{drawBorder:!1,zeroLineColor:"transparent",color:"rgba(255,255,255,0.05)"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"},ticks:{display:!1}}]}}};return l.a.createElement("div",{className:"content"},l.a.createElement(v.B,null,l.a.createElement(v.j,{xs:12,sm:6,md:6,lg:3},l.a.createElement(v.c,{className:"card-stats"},l.a.createElement(v.d,null,l.a.createElement(v.B,null,l.a.createElement(v.j,{xs:5,md:4},l.a.createElement("div",{className:"icon-big text-center"},l.a.createElement("i",{className:"nc-icon nc-globe text-warning"}))),l.a.createElement(v.j,{xs:7,md:8},l.a.createElement("div",{className:"numbers"},l.a.createElement("p",{className:"card-category"},"Allocated Server Capacity"),l.a.createElement(v.i,{tag:"p"},"500MB"))))),l.a.createElement(v.e,null,l.a.createElement("hr",null),l.a.createElement(k,null,[{i:"fas fa-sync-alt",t:"Currently Updated"}])))),l.a.createElement(v.j,{xs:12,sm:6,md:6,lg:3},l.a.createElement(v.c,{className:"card-stats"},l.a.createElement(v.d,null,l.a.createElement(v.B,null,l.a.createElement(v.j,{xs:5,md:4},l.a.createElement("div",{className:"icon-big text-center"},l.a.createElement("i",{className:"nc-icon nc-single-02 text-success"}))),l.a.createElement(v.j,{xs:7,md:8},l.a.createElement("div",{className:"numbers"},l.a.createElement("p",{className:"card-category"},"Total User Registered"),l.a.createElement(v.i,{tag:"p"},l.a.createElement(w.Query,{query:Q},function(e){var t=e.loading,a=e.error,n=e.data;return t?"Loading...":a?"Error! ".concat(a.message):n.userCount.count})))))),l.a.createElement(v.e,null,l.a.createElement("hr",null),l.a.createElement(k,null,[{i:"fas fa-clock",t:"Data showing from your last login"}])))),l.a.createElement(v.j,{xs:12,sm:6,md:6,lg:3},l.a.createElement(v.c,{className:"card-stats"},l.a.createElement(v.d,null,l.a.createElement(v.B,null,l.a.createElement(v.j,{xs:5,md:4},l.a.createElement("div",{className:"icon-big text-center"},l.a.createElement("i",{className:"nc-icon nc-credit-card text-danger"}))),l.a.createElement(v.j,{xs:7,md:8},l.a.createElement("div",{className:"numbers"},l.a.createElement("p",{className:"card-category"},"Total Reports "),l.a.createElement(v.i,{tag:"p"},l.a.createElement(w.Query,{query:Y},function(e){var t=e.loading,a=e.error,n=e.data;return t?"Loading...":a?"Error! ".concat(a.message):n.reportCount.count})))))),l.a.createElement(v.e,null,l.a.createElement("hr",null),l.a.createElement(k,null,[{i:"fas fa-clock",t:"Data showing from your last login"}])))),l.a.createElement(v.j,{xs:12,sm:6,md:6,lg:3},l.a.createElement(v.c,{className:"card-stats"},l.a.createElement(v.d,null,l.a.createElement(v.B,null,l.a.createElement(v.j,{xs:5,md:4},l.a.createElement("div",{className:"icon-big text-center"},l.a.createElement("i",{className:"nc-icon nc-single-copy-04 text-primary"}))),l.a.createElement(v.j,{xs:7,md:8},l.a.createElement("div",{className:"numbers"},l.a.createElement("p",{className:"card-category"},"Total Prescriptions"),l.a.createElement(v.i,{tag:"p"},l.a.createElement(w.Query,{query:V},function(e){var t=e.loading,a=e.error,n=e.data;return t?"Loading...":a?"Error! ".concat(a.message):n.prescriptionCount.count})))))),l.a.createElement(v.e,null,l.a.createElement("hr",null),l.a.createElement(k,null,[{i:"fas fa-clock",t:"Data showing from your last login"}]))))),l.a.createElement(v.B,null,l.a.createElement(v.j,{xs:12,sm:12,md:6},l.a.createElement(v.c,null,l.a.createElement(v.f,null,l.a.createElement(v.i,null,"User Statistics"),l.a.createElement("p",{className:"card-category"},"Data showing from your last login")),l.a.createElement(v.d,null,l.a.createElement(j.c,{data:n.data,options:n.options})),l.a.createElement(v.e,null,l.a.createElement("div",{className:"legend"},l.a.createElement("i",{className:"fa fa-circle text-gray"})," Patient"," ",l.a.createElement("i",{className:"fa fa-circle text-primary"})," Doctor"," ",l.a.createElement("i",{className:"fa fa-circle text-warning"})," Hospital"," ",l.a.createElement("i",{className:"fa fa-circle text-danger"})," Pharmacy"," ",l.a.createElement("i",{className:"fa fa-circle text-success"})," Admin"," "),l.a.createElement("hr",null),l.a.createElement(k,null,[{i:"fas fa-calendar-alt",t:" Number of users based on user type"}])))),l.a.createElement(v.j,{xs:12,sm:12,md:6},l.a.createElement(v.c,null,l.a.createElement(v.f,null,l.a.createElement(v.i,null,"Data Server Statistics"),l.a.createElement("p",{className:"card-category"},"Data showing from your last login")),l.a.createElement(v.d,null,l.a.createElement(j.b,{data:t.data,options:t.options})),l.a.createElement(v.e,null,l.a.createElement("div",{className:"legend"},l.a.createElement("i",{className:"fa fa-circle text-warning"})," User"," ",l.a.createElement("i",{className:"fa fa-circle text-danger"})," Prescription"," ",l.a.createElement("i",{className:"fa fa-circle text-success"})," Report"," "),l.a.createElement("hr",null),l.a.createElement(k,null,[{i:"fas fa-calendar-alt",t:" Number of users, prescriptions, reports in our server"}]))))),l.a.createElement(v.B,null,l.a.createElement(v.j,{xs:12,md:12,sm:6},l.a.createElement(v.c,null,l.a.createElement(v.f,null,l.a.createElement(v.i,null,"Disease graph"),l.a.createElement("p",{className:"card-category"}," Data showing from your last login")),l.a.createElement(v.d,null,l.a.createElement(j.a,{data:a.data,options:a.options,height:80})),l.a.createElement(v.e,null)))))}}]),t}(l.a.Component),G=a(15),J=a.n(G),Z=a(18),X=a(121),K=a(4),ee=a.n(K),te=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.simple,a=e.round,n=e.icon,r=e.neutral,c=e.leftLabel,o=e.rightLabel,i=e.wd,s=e.link,m=e.fab,u=e.className,d=Object(X.a)(e,["simple","round","icon","neutral","leftLabel","rightLabel","wd","link","fab","className"]),p=ee()({"btn-simple":t,"btn-round":a,"btn-icon":n,"btn-neutral":r,"btn-wd":i,"btn-link":s,"btn-fab":m});return void 0!==u&&(p+=" "+u),l.a.createElement(v.b,Object.assign({className:p},d),c?l.a.createElement("span",{className:"btn-label"},l.a.createElement("i",{className:c})," "):null,this.props.children,o?l.a.createElement("span",{className:"btn-label btn-label-right"},l.a.createElement("i",{className:o})," "):null)}}]),t}(n.Component),ae=a(19),ne=a.n(ae),le=a(25);a(21);function re(){var e=Object(O.a)(["\n      {\n        allUsers{\n          name\n          id\n          phone\n          nid\n          utype\n          createdAt\n          updatedAt\n          email\n        }\n    }\n    "]);return re=function(){return e},e}function ce(){var e=Object(O.a)(["\n          mutation deleteUser($id: ID!) {\n            deleteUser(id: $id) {\n              phone\n              id\n            }\n          }\n      "]);return ce=function(){return e},e}function oe(){var e=Object(O.a)(["\n      {\n        allUsers{\n          name\n          id\n          phone\n          nid\n          utype\n          createdAt\n          updatedAt\n          email\n        }\n    }\n    "]);return oe=function(){return e},e}var ie=function(e){return l.a.createElement(w.Query,{query:N()(oe())},function(t){var a=t.loading,n=t.error,r=t.data;return a?l.a.createElement("div",null,l.a.createElement(ne.a,{className:"loadingScreenAnimation",type:"spin",color:"white",height:"60%",width:"60%"})):n?l.a.createElement("p",null,"Error :("):r.allUsers.map(function(t){var a=t.id,n=t.createdAt,r=t.updatedAt,c=t.phone,o=t.nid,i=t.name,s=t.utype,m=t.email;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:"https://openclipart.org/download/247319/abstract-user-flat-3.svg",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Name : ",i),l.a.createElement(v.h,null,l.a.createElement("b",null,"User Type :")," ",s),l.a.createElement(v.h,null,l.a.createElement("b",null,"Created At :")," ",n),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement(te,{color:"default",onClick:function(){e.up(a,n,r,c,o,i,s,m)}},"Update"),l.a.createElement(te,{color:"danger",onClick:function(){e.preDelete(a)}},"Delete"),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Details of : ",l.a.createElement("b",null,l.a.createElement("i",null,i)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",n)),l.a.createElement("tr",null,l.a.createElement("td",null,"Name :  \xa0 ",i)),l.a.createElement("tr",null,l.a.createElement("td",null,"Phone :  \xa0 ",c)),l.a.createElement("tr",null,l.a.createElement("td",null,"Nid :  \xa0 ",o)),l.a.createElement("tr",null,l.a.createElement("td",null,"Email :  \xa0 ",m)),l.a.createElement("tr",null,l.a.createElement("td",null,"User Type :  \xa0 ",s)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",r))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))})})},se=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={modal:!1,viewPresciptionId:null},a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.up=a.up.bind(Object(y.a)(Object(y.a)(a))),a.delete=a.delete.bind(Object(y.a)(Object(y.a)(a))),a.preDelete=a.preDelete.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"up",value:function(e,t,a,n,l,r,c,o){this.props.history.push({pathname:"/uua",state:{some:[e,t,a,n,l,r,c,o]}})}},{key:"preDelete",value:function(e){var t=this;Object(le.confirmAlert)({title:"Delete?",buttons:[{label:"Yes",onClick:function(){return t.delete(e)}},{label:"No",onClick:function(){return alert("Delete action cancelled")}}]})}},{key:"delete",value:function(){var e=Object(Z.a)(J.a.mark(function e(t){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Successfully Deleted"),e.next=3,_t.mutate({mutation:N()(ce()),variables:{id:t},refetchQueries:[{query:N()(re())}]});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",{className:"content"},l.a.createElement("div",null,l.a.createElement(v.B,{className:"helper"},l.a.createElement(ie,{toggle:this.toggle,state:this.state,delete:this.delete,preDelete:this.preDelete,up:this.up}))))}}]),t}(l.a.Component);function me(){var e=Object(O.a)(["\n      {\n      allPrescriptions{\n        id\n        docname\n        docid\n        details\n        createdAt\n        owner\n        chember\n        med\n        updatedAt\n        phn\n      }\n    }\n    "]);return me=function(){return e},e}function ue(){var e=Object(O.a)(["\n          mutation deletePrescription($id: ID!) {\n            deletePrescription(id: $id) {\n              owner\n              id\n            }\n          }\n      "]);return ue=function(){return e},e}function de(){var e=Object(O.a)(["\n      {\n      allPrescriptions{\n        id\n        docname\n        docid\n        details\n        createdAt\n        owner\n        chember\n        med\n        updatedAt\n        phn\n        nid\n      }\n    }\n    "]);return de=function(){return e},e}var pe=function(e){return l.a.createElement(w.Query,{query:N()(de())},function(t){var a=t.loading,n=t.error,r=t.data;return a?l.a.createElement("div",null,l.a.createElement(ne.a,{className:"loadingScreenAnimation",type:"spin",color:"white",height:"60%",width:"60%"})):n?l.a.createElement("p",null,"Error :("):r.allPrescriptions.map(function(t){var a=t.id,n=t.docname,r=t.details,c=t.createdAt,o=t.owner,i=t.docid,s=t.chember,m=t.med,u=t.updatedAt,d=t.phn,p=t.nid;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:"http://icons-for-free.com/free-icons/png/512/1290990.png",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Doctor : ",n),l.a.createElement(v.h,null,l.a.createElement("b",null,"Problem :")," ",r),l.a.createElement(v.h,null,l.a.createElement("b",null,"Date :")," ",c),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement(te,{color:"default",onClick:function(){e.up(a,n,r,c,o,i,s,m,u,d,p)}},"Update"),l.a.createElement(te,{color:"danger",onClick:function(){e.preDelete(a)}},"Delete"),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Prescription of ",l.a.createElement("b",null,l.a.createElement("i",null,o)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Prescription Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",c)),l.a.createElement("tr",null,l.a.createElement("td",null,"Doctor :  \xa0 ",n)),l.a.createElement("tr",null,l.a.createElement("td",null,"DocID :  \xa0 ",i)),l.a.createElement("tr",null,l.a.createElement("td",null,"Paitent contact no :  \xa0 ",d)),l.a.createElement("tr",null,l.a.createElement("td",null,"Chember :  \xa0 ",s)),l.a.createElement("tr",null,l.a.createElement("td",null,"Details :  \xa0 ",r)),l.a.createElement("tr",null,l.a.createElement("td",null,"Medicine :  \xa0 ",m)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",u))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))})})},he=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={modal:!1,viewPresciptionId:null},a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.up=a.up.bind(Object(y.a)(Object(y.a)(a))),a.delete=a.delete.bind(Object(y.a)(Object(y.a)(a))),a.preDelete=a.preDelete.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"up",value:function(e,t,a,n,l,r,c,o,i,s,m){this.props.history.push({pathname:"/up",state:{some:[e,t,a,n,l,r,c,o,i,s,m]}})}},{key:"preDelete",value:function(e){var t=this;Object(le.confirmAlert)({title:"Delete?",buttons:[{label:"Yes",onClick:function(){return t.delete(e)}},{label:"No",onClick:function(){return alert("Delete action cancelled")}}]})}},{key:"delete",value:function(){var e=Object(Z.a)(J.a.mark(function e(t){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Successfully Deleted"),e.next=3,_t.mutate({mutation:N()(ue()),variables:{id:t},refetchQueries:[{query:N()(me())}]});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",{className:"content"},l.a.createElement("div",null,l.a.createElement(v.B,{className:"helper"},l.a.createElement(pe,{toggle:this.toggle,state:this.state,delete:this.delete,preDelete:this.preDelete,up:this.up}))))}}]),t}(l.a.Component);function Ee(){var e=Object(O.a)(["\n      {\n        allReports{\n          id\n          imageid\n          imageUrl\n          phoneid\n          createdAt\n          updatedAt\n      }\n    }\n    "]);return Ee=function(){return e},e}function ge(){var e=Object(O.a)(["\n          mutation deleteReport($id: ID!) {\n            deleteReport(id: $id) {\n              \n              id\n            }\n          }\n      "]);return ge=function(){return e},e}function be(){var e=Object(O.a)(["\n      {\n        allReports{\n          id\n          imageid\n          imageUrl\n          phoneid\n          createdAt\n          updatedAt\n      }\n    }\n    "]);return be=function(){return e},e}var fe=function(e){return l.a.createElement(w.Query,{query:N()(be())},function(t){var a=t.loading,n=t.error,r=t.data;return a?l.a.createElement("div",null,l.a.createElement(ne.a,{className:"loadingScreenAnimation",type:"spin",color:"white",height:"60%",width:"60%"})):n?l.a.createElement("p",null,"Error :("):r.allReports.map(function(t){var a=t.id,n=(t.imageid,t.imageUrl),r=t.phoneid,c=t.updatedAt,o=t.createdAt;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:n,alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.h,null,l.a.createElement("b",null,"Report added using (id/phone):")," ",r),l.a.createElement(v.h,null,l.a.createElement("b",null,"Prescription Added :")," ",o),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement("a",{key:a+4,href:n,target:"_blank"},l.a.createElement(te,{color:"primary"},"Download")),l.a.createElement(te,{color:"danger",onClick:function(){e.preDelete(a)}},"Delete"),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Report Registered using ID/Phone : ",l.a.createElement("b",null,l.a.createElement("i",null,r)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:n}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Prescription Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",o)),l.a.createElement("tr",null,l.a.createElement("td",null,"Paitent contact no :  \xa0 ",r)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",c))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))})})},ye=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={modal:!1,viewPresciptionId:null},a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.up=a.up.bind(Object(y.a)(Object(y.a)(a))),a.delete=a.delete.bind(Object(y.a)(Object(y.a)(a))),a.preDelete=a.preDelete.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"up",value:function(e,t,a,n,l,r,c,o,i,s,m){this.props.history.push({pathname:"/up",state:{some:[e,t,a,n,l,r,c,o,i,s,m]}})}},{key:"preDelete",value:function(e){var t=this;Object(le.confirmAlert)({title:"Delete?",buttons:[{label:"Yes",onClick:function(){return t.delete(e)}},{label:"No",onClick:function(){return alert("Delete action cancelled")}}]})}},{key:"delete",value:function(){var e=Object(Z.a)(J.a.mark(function e(t){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Successfully Deleted"),e.next=3,_t.mutate({mutation:N()(ge()),variables:{id:t},refetchQueries:[{query:N()(Ee())}]});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",{className:"content"},l.a.createElement("div",null,l.a.createElement(v.B,{className:"helper"},l.a.createElement(fe,{toggle:this.toggle,state:this.state,delete:this.delete,preDelete:this.preDelete,up:this.up}))))}}]),t}(l.a.Component),ve=a(23);function Oe(){var e=Object(O.a)(["\n      mutation createPrescription(\n        $owner: String!,\n        $nid: String,\n        $docname: String!,\n        $docid: String!,\n        $chember: String,\n        $details: String!,\n        $med: String,\n        $phn: String\n       ){\n          createPrescription(\n            owner: $owner,\n            nid  : $nid ,\n        docname  : $docname,\n         docid   : $docid,\n        chember  : $chember,\n        details  : $details,\n           med   : $med,\n          phn    : $phn\n          ){\n            id\n            owner\n            docname\n            details\n            phn\n          }\n        }\n      "]);return Oe=function(){return e},e}var je=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={pname:"",nid:"",docname:"",drid:"",inputAddress:"",phnno:"",inputDetails:"",inputMed:""},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(ve.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"content"},l.a.createElement(w.Mutation,{mutation:N()(Oe()),variables:{owner:this.state.pname,nid:this.state.nid,docname:this.state.docname,docid:this.state.drid,chember:this.state.inputAddress,details:this.state.inputDetails,med:this.state.inputMed,phn:this.state.phnno}},function(t,a){var n=a.data,r=a.loading,c=a.error;return r?l.a.createElement("div",null,l.a.createElement(ne.a,{className:"loadingScreenAnimation",type:"spin",color:"white",height:"60%",width:"60%"})):n?l.a.createElement("div",{className:"successCreateNoify"},l.a.createElement(v.c,{className:"successCreateNoifyHelper",style:{width:"30rem"}},l.a.createElement(v.g,{top:!0,src:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-512.png",alt:"Card image cap"}),l.a.createElement(v.i,null,"Prescription Created Successfully!!"),l.a.createElement(v.h,null,"Prescription ID : ",l.a.createElement("b",null,n.createPrescription.id),l.a.createElement("br",null),"Patient Name : ",l.a.createElement("b",null,n.createPrescription.owner),l.a.createElement("br",null),"Doctor Name : ",l.a.createElement("b",null,n.createPrescription.docname),l.a.createElement("br",null),"Health Issues : ",l.a.createElement("b",null,n.createPrescription.details),l.a.createElement("br",null),"Paitent Contact No : ",l.a.createElement("b",null,n.createPrescription.phn),l.a.createElement("br",null)))):c?l.a.createElement("p",null,"Error :("):l.a.createElement(v.B,null,l.a.createElement(v.j,{md:12},l.a.createElement(v.c,null,l.a.createElement(v.f,null,l.a.createElement("h5",{className:"title"},"Fill Up The Form With Patient Information")),l.a.createElement(v.d,null,l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"pname"},"Patient Name"),l.a.createElement(v.p,{type:"text",id:"pname",placeholder:"Patient Name",onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"nid"},"NID / Passpost No / Birth Cirtificate No"),l.a.createElement(v.p,{type:"text",id:"nid",placeholder:"NID / Passpost No / Birth Cirtificate No",onChange:e.handleChange}))),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"docname"},"Doctors Name"),l.a.createElement(v.p,{type:"text",id:"docname",placeholder:"Doctors Name",onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"drid"},"Doctors ID"),l.a.createElement(v.p,{type:"text",id:"drid",placeholder:"Doctors ID",onChange:e.handleChange}))),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"inputAddress"},"Chember Address"),l.a.createElement(v.p,{type:"text",id:"inputAddress",placeholder:"Doctors Chember Address",onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"phnno"},"Patient contact no"),l.a.createElement(v.p,{type:"text",id:"phnno",placeholder:"Patient contact no",onChange:e.handleChange}))),l.a.createElement(v.n,null,l.a.createElement(v.q,{for:"inputDetails"},"Details"),l.a.createElement(v.p,{type:"text",id:"inputDetails",placeholder:"Issues regarding the patient",onChange:e.handleChange})),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-12"},l.a.createElement(v.q,{for:"inputMed"},"Medicine"),l.a.createElement(v.p,{type:"text",id:"inputMed",placeholder:"Suggested medicines for the patient",onChange:e.handleChange}))),l.a.createElement(te,{type:"submit",value:"Submit",color:"success",size:"lg",onClick:function(){t()}},l.a.createElement("i",{className:"fa fa-save"})," \xa0Create"))))))}))}}]),t}(l.a.Component);function ke(){var e=Object(O.a)(["\n      mutation updatePrescription(\n        $id : ID!,\n        $owner: String!,\n        $nid: String,\n        $docname: String!,\n        $docid: String!,\n        $chember: String,\n        $details: String!,\n        $med: String,\n        $phn: String\n       ){\n          updatePrescription(\n              id : $id,\n            owner: $owner,\n            nid  : $nid ,\n        docname  : $docname,\n         docid   : $docid,\n        chember  : $chember,\n        details  : $details,\n           med   : $med,\n          phn    : $phn\n          ){\n            id\n            owner\n            docname\n            details\n            phn\n          }\n        }\n      "]);return ke=function(){return e},e}var Ce=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={pname:e.history.location.state.some[4],nid:e.history.location.state.some[10],docname:e.history.location.state.some[1],drid:e.history.location.state.some[5],inputAddress:e.history.location.state.some[6],phnno:e.history.location.state.some[9],inputDetails:e.history.location.state.some[2],inputMed:e.history.location.state.some[7],viewPresciption:e.history.location.state.some[0]},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(ve.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"content"},l.a.createElement(w.Mutation,{mutation:N()(ke()),variables:{id:this.state.viewPresciption,owner:this.state.pname,nid:this.state.nid,docname:this.state.docname,docid:this.state.drid,chember:this.state.inputAddress,details:this.state.inputDetails,med:this.state.inputMed,phn:this.state.phnno}},function(t,a){var n=a.data,r=a.loading,c=a.error;return r?l.a.createElement("div",null,l.a.createElement(ne.a,{className:"loadingScreenAnimation",type:"spin",color:"white",height:"60%",width:"60%"})):n?l.a.createElement("div",{className:"successCreateNoify"},l.a.createElement(v.c,{className:"successCreateNoifyHelper",style:{width:"30rem"}},l.a.createElement(v.g,{top:!0,src:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-512.png",alt:"Card image cap"}),l.a.createElement(v.i,null,"Prescription Updated Successfully!!"),l.a.createElement(v.h,null,"Prescription ID : ",l.a.createElement("b",null,n.updatePrescription.id),l.a.createElement("br",null),"Patient Name : ",l.a.createElement("b",null,n.updatePrescription.owner),l.a.createElement("br",null),"Doctor Name : ",l.a.createElement("b",null,n.updatePrescription.docname),l.a.createElement("br",null),"Health Issues : ",l.a.createElement("b",null,n.updatePrescription.details),l.a.createElement("br",null),"Paitent Contact No : ",l.a.createElement("b",null,n.updatePrescription.phn),l.a.createElement("br",null)),l.a.createElement(te,{href:"/prescription"},"Back"))):c?l.a.createElement("p",null,"Error :("):l.a.createElement(v.B,null,l.a.createElement(v.j,{md:12},l.a.createElement(v.c,null,l.a.createElement(v.f,null,l.a.createElement("h5",{className:"title"},"Update Prescription"),l.a.createElement(v.a,{color:"warning"},l.a.createElement("b",null,"Input fields are already filled with existing prescription data")," ")),l.a.createElement(v.d,null,l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"pname"},"Patient Name"),l.a.createElement(v.p,{type:"text",id:"pname",placeholder:e.state.pname,onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"nid"},"NID / Passpost No / Birth Cirtificate No"),l.a.createElement(v.p,{type:"text",id:"nid",placeholder:e.state.nid,onChange:e.handleChange}))),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"docname"},"Doctors Name"),l.a.createElement(v.p,{type:"text",id:"docname",placeholder:e.state.docname,onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"drid"},"Doctors ID"),l.a.createElement(v.p,{type:"text",id:"drid",placeholder:e.state.drid,onChange:e.handleChange}))),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"inputAddress"},"Chember Address"),l.a.createElement(v.p,{type:"text",id:"inputAddress",placeholder:e.state.inputAddress,onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"phnno"},"Patient contact no"),l.a.createElement(v.p,{type:"text",id:"phnno",placeholder:e.state.phnno,onChange:e.handleChange}))),l.a.createElement(v.n,null,l.a.createElement(v.q,{for:"inputDetails"},"Details"),l.a.createElement(v.p,{type:"text",id:"inputDetails",placeholder:e.state.inputDetails,onChange:e.handleChange})),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-12"},l.a.createElement(v.q,{for:"inputMed"},"Medicine"),l.a.createElement(v.p,{type:"text",id:"inputMed",placeholder:e.state.inputMed,onChange:e.handleChange}))),l.a.createElement(te,{type:"submit",value:"Submit",color:"success",size:"lg",onClick:function(){t()}},l.a.createElement("i",{className:"fa fa-save"})," \xa0Update"))))))}))}}]),t}(l.a.Component),Ne=a(36);function we(){var e=Object(O.a)(["\n       mutation createReport($imageID: String, $imageUrl: String,  $phoneid: String){\n        createReport(\n         imageid : $imageID ,\n         imageUrl : $imageUrl ,\n         phoneid : $phoneid\n      ) {\n        id\n        phoneid\n        imageUrl\n      }\n    }\n    "]);return we=function(){return e},e}var xe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).onDrop=function(e){var t=new FormData;t.append("data",e[0]),fetch(" https://api.graph.cool/file/v1/cjnaaji6g014p0127lqfjvz73",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){a.setState({imageId:e.id,imageUrl:e.url})})},a.state={phoneid:""},a.back=a.back.bind(Object(y.a)(Object(y.a)(a))),a.submit=a.submit.bind(Object(y.a)(Object(y.a)(a))),a.lo=a.lo.bind(Object(y.a)(Object(y.a)(a))),a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"lo",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"back",value:function(){window.location.reload()}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"content"},l.a.createElement(v.r,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},l.a.createElement(v.u,{toggle:this.toggle}),l.a.createElement(v.s,{className:"crhosCenter"},l.a.createElement("img",{src:"https://nazrangrad.ru/wp-content/uploads/2018/01/check-mark-2180770_960_720.png"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",null,"Report Successfully Added")),l.a.createElement(v.t,null)),l.a.createElement("div",{className:"cphelperMain"},l.a.createElement("h2",null,"Add Report for a Patient"),l.a.createElement("pre",{className:"cpHospitalText"},"Enter the patients NID/Birth Cirtificate no/ Passport No/ Phone No. ",l.a.createElement("br",null),"Upload the image of your prescription.",l.a.createElement("br",null),"The submit button will automatically apper on your screen."),l.a.createElement("div",{style:{maxWidth:400},className:"cphelperAfterMain"},l.a.createElement(v.p,{className:"cpHospitalInput",value:this.state.phoneid,placeholder:"NID/Birth Cirtificate no/ Passport No/ Phone No",onChange:function(t){return e.setState({phoneid:t.target.value})}}),l.a.createElement("br",null),!this.state.imageId&&l.a.createElement(Ne.a,{className:"dz",onDrop:this.onDrop,accept:"image/*",multiple:!1},l.a.createElement("div",null,l.a.createElement("b",null,"Drop an image or click to choose"))),this.state.imageUrl&&l.a.createElement("img",{src:this.state.imageUrl,role:"presentation",className:"w-100 mv3"}),this.state.phoneid&&this.state.imageUrl&&l.a.createElement(te,{color:"success",className:"searchBtHelper",onClick:this.submit},l.a.createElement("i",{className:"fa fa-hdd "})," \xa0Post"),this.state.phoneid&&this.state.imageUrl&&l.a.createElement(te,{color:"danger",className:"searchBtHelper",onClick:this.back},l.a.createElement("i",{className:"fa fa-remove "})," \xa0Discard"))))}},{key:"submit",value:function(){var e=Object(Z.a)(J.a.mark(function e(){var t=this;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.mutate({mutation:N()(we()),variables:{imageID:this.state.nid,imageUrl:this.state.imageUrl,phoneid:this.state.phoneid}}).then(function(e){t.toggle()}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(l.a.Component);function Se(){var e=Object(O.a)(["\n      mutation updateUser(\n        $id : ID!,\n        $phone: String!,\n        $nid: String,\n        $name: String!,\n        $utype: String!,\n       \n       ){\n          updateUser(\n              id : $id,\n            phone : $phone,\n            nid  : $nid ,\n            name  : $name,\n            utype   : $utype,\n           \n          ){\n            id\n            name\n            email\n            phone\n           }\n        }\n      "]);return Se=function(){return e},e}var Ie=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={id:e.history.location.state.some[0],createdAt:e.history.location.state.some[1],updatedAt:e.history.location.state.some[2],phone:e.history.location.state.some[3],nid:e.history.location.state.some[4],name:e.history.location.state.some[5],utype:e.history.location.state.some[6],email:e.history.location.state.some[7]},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(ve.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"content"},l.a.createElement(w.Mutation,{mutation:N()(Se()),variables:{id:this.state.id,phone:this.state.phone,nid:this.state.nid,name:this.state.name,utype:this.state.utype}},function(t,a){var n=a.data,r=a.loading,c=a.error;return r?l.a.createElement("div",null,l.a.createElement(ne.a,{className:"loadingScreenAnimation",type:"spin",color:"white",height:"60%",width:"60%"})):n?l.a.createElement("div",{className:"successCreateNoify"},l.a.createElement(v.c,{className:"successCreateNoifyHelper",style:{width:"30rem"}},l.a.createElement(v.g,{top:!0,src:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-512.png",alt:"Card image cap"}),l.a.createElement(v.i,null,"User Info Updated Successfully!!"),l.a.createElement(v.h,null,"User ID : ",l.a.createElement("b",null,n.updateUser.id),l.a.createElement("br",null),"Name : ",l.a.createElement("b",null,n.updateUser.name),l.a.createElement("br",null),"Email : ",l.a.createElement("b",null,n.updateUser.email),l.a.createElement("br",null),"Contact No : ",l.a.createElement("b",null,n.updateUser.phone),l.a.createElement("br",null)),l.a.createElement(te,{href:"/list_users"},"Back"))):c?l.a.createElement("p",null,"Error :("):l.a.createElement(v.B,null,l.a.createElement(v.j,{md:12},l.a.createElement(v.c,null,l.a.createElement(v.f,null,l.a.createElement("h5",{className:"title"},"Update Prescription"),l.a.createElement(v.a,{color:"warning"},l.a.createElement("b",null,"Input fields are already filled with existing prescription data")," ")),l.a.createElement(v.d,null,l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"pname"},"User Name"),l.a.createElement(v.p,{type:"text",id:"name",placeholder:e.state.name,onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"nid"},"ID/ NID / Passpost No / Birth Cirtificate No"),l.a.createElement(v.p,{type:"text",id:"nid",placeholder:e.state.nid,onChange:e.handleChange}))),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"docname"},"User Id (System)"),l.a.createElement(v.p,{type:"text",id:"id",placeholder:e.state.id,onChange:e.handleChange,disabled:!0})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"drid"},"Created At"),l.a.createElement(v.p,{type:"text",id:"createdAt",placeholder:e.state.createdAt,onChange:e.handleChange,disabled:!0}))),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"inputAddress"},"Updated At"),l.a.createElement(v.p,{type:"text",id:"updatedAt",placeholder:e.state.updatedAt,onChange:e.handleChange,disabled:!0})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"phnno"},"User contact no"),l.a.createElement(v.p,{type:"text",id:"phone",placeholder:e.state.phone,onChange:e.handleChange}))),l.a.createElement(v.n,null,l.a.createElement(v.q,{for:"inputDetails"},"User Role"),l.a.createElement(v.p,{type:"text",id:"utype",placeholder:e.state.utype,onChange:e.handleChange})),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-12"},l.a.createElement(v.q,{for:"inputMed"},"Email"),l.a.createElement(v.p,{type:"text",id:"email",placeholder:e.state.email,onChange:e.handleChange,disabled:!0}))),l.a.createElement(te,{type:"submit",value:"Submit",color:"success",size:"lg",onClick:function(){t()}},l.a.createElement("i",{className:"fa fa-save"})," \xa0Update"))))))}))}}]),t}(l.a.Component);function Pe(){var e=Object(O.a)(["\n        query allReports($searchText: String!){\n      \n          allReports(\n            filter : {\n              phoneid : $searchText\n            }\n          ){\n            id\n            imageid\n            imageUrl\n            phoneid\n            createdAt\n            updatedAt\n          }\n          \n        }\n      "]);return Pe=function(){return e},e}function De(){var e=Object(O.a)(["\n      {\n        allReports{\n          id\n          imageid\n          imageUrl\n          phoneid\n          createdAt\n          updatedAt\n      }\n    }\n    "]);return De=function(){return e},e}function Ue(){var e=Object(O.a)(["\n          mutation deleteReport($id: ID!) {\n            deleteReport(id: $id) {\n              \n              id\n            }\n          }\n      "]);return Ue=function(){return e},e}var Ae=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={text:"",inputText:"",mode:"view",result:[]},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.handleSave=a.handleSave.bind(Object(y.a)(Object(y.a)(a))),a.handleEdit=a.handleEdit.bind(Object(y.a)(Object(y.a)(a))),a.display=a.display.bind(Object(y.a)(Object(y.a)(a))),a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.delete=a.delete.bind(Object(y.a)(Object(y.a)(a))),a.preDelete=a.preDelete.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"handleChange",value:function(e){this.setState({inputText:e.target.value})}},{key:"handleSave",value:function(){this.setState({text:this.state.inputText,mode:"view"})}},{key:"handleEdit",value:function(){this.setState({mode:"edit"})}},{key:"preDelete",value:function(e){var t=this;Object(le.confirmAlert)({title:"Delete?",buttons:[{label:"Yes",onClick:function(){return t.delete(e)}},{label:"No",onClick:function(){return alert("Delete action cancelled")}}]})}},{key:"delete",value:function(){var e=Object(Z.a)(J.a.mark(function e(t){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Successfully Deleted"),e.next=3,_t.mutate({mutation:N()(Ue()),variables:{id:t},refetchQueries:[{query:N()(De())}]});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"display",value:function(){var e=this;_t.query({variables:{searchText:this.state.inputText},query:N()(Pe())}).then(function(t){e.setState({result:t}),e.handleEdit(),console.log(e.state.result.data.allReports)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return"view"===this.state.mode?l.a.createElement("div",{className:"content"},l.a.createElement("div",null,l.a.createElement(v.a,{className:"searchbar",color:"danger"},l.a.createElement("br",null),l.a.createElement("h2",null,l.a.createElement("i",{className:"fa fa-search "}),"\xa0\xa0Search for Report ",l.a.createElement("br",null)),l.a.createElement("form",null,l.a.createElement(v.p,{className:"searchboxheight",type:"text",placeholder:"Search using nid/phone/any kind of id",id:"inputText",onChange:this.handleChange,required:!0}),l.a.createElement("br",null),l.a.createElement(te,{size:"lg",color:"primary",onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"}),"  Search")," ",l.a.createElement("br",null))))):l.a.createElement("div",{className:"content"},l.a.createElement(v.y,{expand:"lg",color:"dark"},l.a.createElement(v.m,{inline:!0,className:"ml-auto"},l.a.createElement(v.n,null,l.a.createElement(v.p,{type:"text",placeholder:"Search",id:"searchText",onChange:this.handleChange})),l.a.createElement(te,{color:"neutral",icon:!0,round:!0,onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"})))),l.a.createElement("div",null,l.a.createElement(v.B,null,0===this.state.result.data.allReports.length&&l.a.createElement("div",{className:"searchCenter"},l.a.createElement(v.a,{color:"danger"},l.a.createElement("h3",null,"No report found corresponding to given id/nid/phone/passport/birthcirtificate.")),l.a.createElement("h4",null,l.a.createElement(v.a,{color:"info"},"You have inserted",l.a.createElement(v.a,{color:"light"},l.a.createElement("pre",null,this.state.inputText))))),this.state.result.data.allReports.map(function(t){var a=t.id,n=(t.imageid,t.imageUrl),r=t.phoneid,c=t.updatedAt,o=t.createdAt;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:n,alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.h,null,l.a.createElement("b",null,"Report added using (id/phone):")," ",r),l.a.createElement(v.h,null,l.a.createElement("b",null,"Prescription Added :")," ",o),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement("a",{key:a+4,href:n,target:"_blank"},l.a.createElement(te,{color:"primary"},"Download")),l.a.createElement(te,{color:"danger",onClick:function(){e.preDelete(a)}},"Delete"),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Report Registered using ID/Phone : ",l.a.createElement("b",null,l.a.createElement("i",null,r)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:n}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Prescription Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",o)),l.a.createElement("tr",null,l.a.createElement("td",null,"Paitent contact no :  \xa0 ",r)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",c))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))}))))}}]),t}(l.a.Component),$e=Object(w.withApollo)(Ae),Te=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("footer",{className:"footer"+(this.props.default?" footer-default":"")},l.a.createElement(v.l,{fluid:!!this.props.fluid},l.a.createElement(v.B,null,l.a.createElement("div",{className:"credits ml-auto"},l.a.createElement("div",{className:"copyright"},"\xa9 ",1900+(new Date).getYear(),", made with ",l.a.createElement("i",{className:"fa fa-heart heart"})," by EMR")))))}}]),t}(l.a.Component);function qe(){var e=Object(O.a)(["\n        query allPrescriptions($searchText: String!){\n      \n          allPrescriptions(\n            filter : {\n            OR : [{\n                nid : $searchText\n              },{\n                phn : $searchText\n              }\n              ]\n          }\n          ){\n            id\n            docname\n            docid\n            details\n            createdAt\n            owner\n            chember\n            med\n            updatedAt\n            phn\n            nid\n          }\n        }\n      "]);return qe=function(){return e},e}function Re(){var e=Object(O.a)(["\n      {\n      allPrescriptions{\n        id\n        docname\n        docid\n        details\n        createdAt\n        owner\n        chember\n        med\n        updatedAt\n        phn\n      }\n    }\n    "]);return Re=function(){return e},e}function Be(){var e=Object(O.a)(["\n          mutation deletePrescription($id: ID!) {\n            deletePrescription(id: $id) {\n              owner\n              id\n            }\n          }\n      "]);return Be=function(){return e},e}var Me=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={text:"",inputText:"",mode:"view",result:[]},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.handleSave=a.handleSave.bind(Object(y.a)(Object(y.a)(a))),a.handleEdit=a.handleEdit.bind(Object(y.a)(Object(y.a)(a))),a.display=a.display.bind(Object(y.a)(Object(y.a)(a))),a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.logOut=a.logOut.bind(Object(y.a)(Object(y.a)(a))),a.up=a.up.bind(Object(y.a)(Object(y.a)(a))),a.back=a.back.bind(Object(y.a)(Object(y.a)(a))),a.delete=a.delete.bind(Object(y.a)(Object(y.a)(a))),a.preDelete=a.preDelete.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"preDelete",value:function(e){var t=this;Object(le.confirmAlert)({title:"Delete?",buttons:[{label:"Yes",onClick:function(){return t.delete(e)}},{label:"No",onClick:function(){return alert("Delete action cancelled")}}]})}},{key:"delete",value:function(){var e=Object(Z.a)(J.a.mark(function e(t){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Successfully Deleted"),e.next=3,_t.mutate({mutation:N()(Be()),variables:{id:t},refetchQueries:[{query:N()(Re())}]});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"up",value:function(e,t,a,n,l,r,c,o,i,s,m){this.props.history.push({pathname:"/up",state:{some:[e,t,a,n,l,r,c,o,i,s,m]}})}},{key:"handleChange",value:function(e){this.setState({inputText:e.target.value})}},{key:"handleSave",value:function(){this.setState({text:this.state.inputText,mode:"view"})}},{key:"handleEdit",value:function(){this.setState({mode:"edit"})}},{key:"back",value:function(){this.props.history.push({pathname:"/docdash",state:{logInfo:[this.state.drid,this.state.logInfoToken,this.state.docname]}})}},{key:"logOut",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"display",value:function(){var e=this;_t.query({variables:{searchText:this.state.inputText},query:N()(qe())}).then(function(t){e.setState({result:t}),e.handleEdit(),console.log(e.state.result.data.allPrescriptions)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return"view"===this.state.mode?l.a.createElement("div",{className:"content"},l.a.createElement("div",null,l.a.createElement(v.a,{className:"searchbar",color:"danger"},l.a.createElement("br",null),l.a.createElement("h2",null,l.a.createElement("i",{className:"fa fa-search "}),"\xa0\xa0Search for prescription ",l.a.createElement("br",null)),l.a.createElement("form",null,l.a.createElement(v.p,{className:"searchboxheight",type:"text",placeholder:"Search using nid/phone/any kind of id",id:"inputText",onChange:this.handleChange,required:!0}),l.a.createElement("br",null),l.a.createElement(te,{size:"lg",color:"primary",onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"}),"  Search")," ",l.a.createElement("br",null)))),l.a.createElement(Te,null)):l.a.createElement("div",{className:"content"},l.a.createElement(v.y,{expand:"lg",color:"dark"},l.a.createElement(v.m,{inline:!0,className:"ml-auto"},l.a.createElement(v.n,null,l.a.createElement(v.p,{type:"text",placeholder:"Search",id:"searchText",onChange:this.handleChange})),l.a.createElement(te,{color:"neutral",icon:!0,round:!0,onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"})))),l.a.createElement("div",null,l.a.createElement(v.B,{className:"helper"},0===this.state.result.data.allPrescriptions.length&&l.a.createElement("div",{className:"searchCenter"},l.a.createElement(v.a,{color:"danger"},l.a.createElement("h3",null,"No prescription found corresponding to given id/nid/phone/passport/birthcirtificate.")),l.a.createElement("h4",null,l.a.createElement(v.a,{color:"info"},"You have inserted",l.a.createElement(v.a,{color:"light"},l.a.createElement("pre",null,this.state.inputText))))),this.state.result.data.allPrescriptions.map(function(t){var a=t.id,n=t.docname,r=t.details,c=t.createdAt,o=t.owner,i=t.docid,s=t.chember,m=t.med,u=t.updatedAt,d=t.phn,p=t.nid;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:"http://icons-for-free.com/free-icons/png/512/1290990.png",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Doctor : ",n),l.a.createElement(v.h,null,l.a.createElement("b",null,"Problem :")," ",r),l.a.createElement(v.h,null,l.a.createElement("b",null,"Date :")," ",c),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement(te,{color:"default",onClick:function(){e.up(a,n,r,c,o,i,s,m,u,d,p)}},"Update"),l.a.createElement(te,{color:"danger",onClick:function(){e.preDelete(a)}},"Delete"),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Prescription of ",l.a.createElement("b",null,l.a.createElement("i",null,o)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Prescription Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",c)),l.a.createElement("tr",null,l.a.createElement("td",null,"Doctor :  \xa0 ",n)),l.a.createElement("tr",null,l.a.createElement("td",null,"DocID :  \xa0 ",i)),l.a.createElement("tr",null,l.a.createElement("td",null,"Paitent contact no :  \xa0 ",d)),l.a.createElement("tr",null,l.a.createElement("td",null,"Chember :  \xa0 ",s)),l.a.createElement("tr",null,l.a.createElement("td",null,"Details :  \xa0 ",r)),l.a.createElement("tr",null,l.a.createElement("td",null,"Medicine :  \xa0 ",m)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",u))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))}))))}}]),t}(l.a.Component),_e=Object(w.withApollo)(Me);function Le(){var e=Object(O.a)(["\n        query allUsers($searchText: String!){\n      \n          allUsers\n          (\n            filter :{\n            OR: [\n              {\n                nid : $searchText\n              },\n              {\n                phone : $searchText\n              },\n              {\n                email : $searchText\n              }\n            ]\n          }\n          )\n          {\n            name\n            id\n            phone\n            nid\n            utype\n            createdAt\n            updatedAt\n            email\n          }\n\n        }\n      "]);return Le=function(){return e},e}function ze(){var e=Object(O.a)(["\n      {\n        allUsers{\n          name\n          id\n          phone\n          nid\n          utype\n          createdAt\n          updatedAt\n          email\n        }\n    }\n    "]);return ze=function(){return e},e}function He(){var e=Object(O.a)(["\n          mutation deleteUser($id: ID!) {\n            deleteUser(id: $id) {\n              phone\n              id\n            }\n          }\n      "]);return He=function(){return e},e}var We,Qe,Ye=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={text:"",inputText:"",mode:"view",result:[]},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.handleSave=a.handleSave.bind(Object(y.a)(Object(y.a)(a))),a.handleEdit=a.handleEdit.bind(Object(y.a)(Object(y.a)(a))),a.display=a.display.bind(Object(y.a)(Object(y.a)(a))),a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.logOut=a.logOut.bind(Object(y.a)(Object(y.a)(a))),a.up=a.up.bind(Object(y.a)(Object(y.a)(a))),a.back=a.back.bind(Object(y.a)(Object(y.a)(a))),a.delete=a.delete.bind(Object(y.a)(Object(y.a)(a))),a.preDelete=a.preDelete.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"preDelete",value:function(e){var t=this;Object(le.confirmAlert)({title:"Delete?",buttons:[{label:"Yes",onClick:function(){return t.delete(e)}},{label:"No",onClick:function(){return alert("Delete action cancelled")}}]})}},{key:"delete",value:function(){var e=Object(Z.a)(J.a.mark(function e(t){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Successfully Deleted"),e.next=3,_t.mutate({mutation:N()(He()),variables:{id:t},refetchQueries:[{query:N()(ze())}]});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"up",value:function(e,t,a,n,l,r,c,o){this.props.history.push({pathname:"/uua",state:{some:[e,t,a,n,l,r,c,o]}})}},{key:"handleChange",value:function(e){this.setState({inputText:e.target.value})}},{key:"handleSave",value:function(){this.setState({text:this.state.inputText,mode:"view"})}},{key:"handleEdit",value:function(){this.setState({mode:"edit"})}},{key:"back",value:function(){this.props.history.push({pathname:"/docdash",state:{logInfo:[this.state.drid,this.state.logInfoToken,this.state.docname]}})}},{key:"logOut",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"display",value:function(){var e=this;_t.query({variables:{searchText:this.state.inputText},query:N()(Le())}).then(function(t){e.setState({result:t}),e.handleEdit(),console.log(e.state.result.data.allUsers)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return"view"===this.state.mode?l.a.createElement("div",{className:"content"},l.a.createElement("div",null,l.a.createElement(v.a,{className:"searchbar",color:"danger"},l.a.createElement("br",null),l.a.createElement("h2",null,l.a.createElement("i",{className:"fa fa-search "}),"\xa0\xa0Search for User ",l.a.createElement("br",null)),l.a.createElement("form",null,l.a.createElement(v.p,{className:"searchboxheight",type:"text",placeholder:"Search using nid/phone/any kind of id/ email",id:"inputText",onChange:this.handleChange,required:!0}),l.a.createElement("br",null)),l.a.createElement(te,{size:"lg",color:"primary",onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"}),"  Search")," ",l.a.createElement("br",null))),l.a.createElement(Te,null)):l.a.createElement("div",{className:"content"},l.a.createElement(v.y,{expand:"lg",color:"dark"},l.a.createElement(v.m,{inline:!0,className:"ml-auto"},l.a.createElement(v.n,null,l.a.createElement(v.p,{type:"text",placeholder:"Search",id:"searchText",onChange:this.handleChange})),l.a.createElement(te,{color:"neutral",icon:!0,round:!0,onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"})))),l.a.createElement("div",null,l.a.createElement(v.B,{className:"helper"},0===this.state.result.data.allUsers.length&&l.a.createElement("div",{className:"searchCenter"},l.a.createElement(v.a,{color:"danger"},l.a.createElement("h3",null,"No User found corresponding to given id/nid/phone/passport/birthcirtificate/email.")),l.a.createElement("h4",null,l.a.createElement(v.a,{color:"info"},"You have inserted",l.a.createElement(v.a,{color:"light"},l.a.createElement("pre",null,this.state.inputText))))),this.state.result.data.allUsers.map(function(t){var a=t.id,n=t.createdAt,r=t.updatedAt,c=t.phone,o=t.nid,i=t.name,s=t.utype,m=t.email;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:"https://openclipart.org/download/247319/abstract-user-flat-3.svg",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Name : ",i),l.a.createElement(v.h,null,l.a.createElement("b",null,"User Type :")," ",s),l.a.createElement(v.h,null,l.a.createElement("b",null,"Created At :")," ",n),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement(te,{color:"default",onClick:function(){e.up(a,n,r,c,o,i,s,m)}},"Update"),l.a.createElement(te,{color:"danger",onClick:function(){e.preDelete(a)}},"Delete"),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Details of : ",l.a.createElement("b",null,l.a.createElement("i",null,i)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",n)),l.a.createElement("tr",null,l.a.createElement("td",null,"Name :  \xa0 ",i)),l.a.createElement("tr",null,l.a.createElement("td",null,"Phone :  \xa0 ",c)),l.a.createElement("tr",null,l.a.createElement("td",null,"Nid :  \xa0 ",o)),l.a.createElement("tr",null,l.a.createElement("td",null,"Email :  \xa0 ",m)),l.a.createElement("tr",null,l.a.createElement("td",null,"User Type :  \xa0 ",s)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",r))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))}))))}}]),t}(l.a.Component),Ve=[{path:"/dashboard",name:"Dashboard",icon:"nc-icon nc-bank",component:F},{path:"/prescription",name:"List Presciption",icon:"nc-icon nc-paper",component:he},{path:"/cp",name:"Create Prescription",icon:"nc-icon nc-ruler-pencil",component:je},{path:"/sp_admin",name:"Search Prescription",icon:"nc-icon nc-zoom-split",component:_e},{path:"/list_users",name:"List Users",icon:"nc-icon nc-single-02",component:se},{path:"/s_u",name:"Search User",icon:"nc-icon nc-zoom-split",component:Object(w.withApollo)(Ye)},{path:"/list_report",name:"List Report",icon:"nc-icon nc-bullet-list-67",component:ye},{path:"/cr_admin",name:"Add Report",icon:"nc-icon nc-cloud-upload-94",component:xe},{path:"/sr_admin",name:"Search Report",icon:"nc-icon nc-zoom-split",component:$e},{path:"/auth",name:"Log Out",icon:"nc-icon nc-spaceship"},{path:"/up",component:Ce},{path:"/uua",component:Ie},{redirect:!0,path:"/",pathTo:"/auth",name:"Auth"}],Fe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={isOpen:!1,dropdownOpen:!1,color:"transparent"},a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.dropdownToggle=a.dropdownToggle.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(){this.state.isOpen?this.setState({color:"transparent"}):this.setState({color:"dark"}),this.setState({isOpen:!this.state.isOpen})}},{key:"dropdownToggle",value:function(e){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"getBrand",value:function(){var e,t=this;return Ve.map(function(a,n){return a.collapse?a.views.map(function(a,n){return a.path===t.props.location.pathname&&(e=a.name),null}):(a.redirect,a.path===t.props.location.pathname&&(e=a.name)),null}),e}},{key:"openSidebar",value:function(){document.documentElement.classList.toggle("nav-open"),this.refs.sidebarToggle.classList.toggle("toggled")}},{key:"updateColor",value:function(){window.innerWidth<993&&this.state.isOpen?this.setState({color:"dark"}):this.setState({color:"transparent"})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateColor.bind(this))}},{key:"componentDidUpdate",value:function(e){window.innerWidth<993&&e.history.location.pathname!==e.location.pathname&&-1!==document.documentElement.className.indexOf("nav-open")&&(document.documentElement.classList.toggle("nav-open"),this.refs.sidebarToggle.classList.toggle("toggled"))}},{key:"render",value:function(){var e=this;return l.a.createElement(v.y,{color:-1!==this.props.location.pathname.indexOf("full-screen-maps")?"dark":this.state.color,expand:"lg",className:-1!==this.props.location.pathname.indexOf("full-screen-maps")?"navbar-absolute fixed-top":"navbar-absolute fixed-top "+("transparent"===this.state.color?"navbar-transparent ":"")},l.a.createElement(v.l,{fluid:!0},l.a.createElement("div",{className:"navbar-wrapper"},l.a.createElement("div",{className:"navbar-toggle"},l.a.createElement("button",{type:"button",ref:"sidebarToggle",className:"navbar-toggler",onClick:function(){return e.openSidebar()}},l.a.createElement("span",{className:"navbar-toggler-bar bar1"}),l.a.createElement("span",{className:"navbar-toggler-bar bar2"}),l.a.createElement("span",{className:"navbar-toggler-bar bar3"}))),l.a.createElement(v.z,null,this.getBrand())),l.a.createElement(v.A,{onClick:this.toggle},l.a.createElement("span",{className:"navbar-toggler-bar navbar-kebab"}),l.a.createElement("span",{className:"navbar-toggler-bar navbar-kebab"}),l.a.createElement("span",{className:"navbar-toggler-bar navbar-kebab"})),l.a.createElement(v.k,{isOpen:this.state.isOpen,navbar:!0,className:"justify-content-end"})))}}]),t}(l.a.Component),Ge=a(311),Je=a(117),Ze=a.n(Je),Xe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).activeRoute.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"componentDidMount",value:function(){navigator.platform.indexOf("Win")>-1&&(We=new b.a(this.refs.sidebar,{suppressScrollX:!0,suppressScrollY:!1}))}},{key:"componentWillUnmount",value:function(){navigator.platform.indexOf("Win")>-1&&We.destroy()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"sidebar","data-color":this.props.bgColor,"data-active-color":this.props.activeColor},l.a.createElement("div",{className:"logo"},l.a.createElement("a",{href:"./dashboard",className:"simple-text logo-mini"},l.a.createElement("div",{className:"logo-img"},l.a.createElement("img",{src:Ze.a,alt:"react-logo"}))),l.a.createElement("a",{href:"./dashboard",className:"simple-text logo-normal"},"E M R")),l.a.createElement("div",{className:"sidebar-wrapper",ref:"sidebar"},l.a.createElement(v.v,null,this.props.routes.map(function(t,a){return t.redirect?null:l.a.createElement("li",{className:e.activeRoute(t.path)+(t.pro?" active-pro":""),key:a},l.a.createElement(Ge.a,{to:t.path,className:"nav-link",activeClassName:"active"},l.a.createElement("i",{className:t.icon}),l.a.createElement("p",null,t.name)))}))))}}]),t}(l.a.Component),Ke=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).handleActiveClick=function(e){a.setState({activeColor:e})},a.handleBgClick=function(e){a.setState({backgroundColor:e})},a.state={backgroundColor:"black",activeColor:"info"},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){navigator.platform.indexOf("Win")>-1&&(Qe=new b.a(this.refs.mainPanel),document.body.classList.toggle("perfect-scrollbar-on"))}},{key:"componentWillUnmount",value:function(){navigator.platform.indexOf("Win")>-1&&(Qe.destroy(),document.body.classList.toggle("perfect-scrollbar-on"))}},{key:"componentDidUpdate",value:function(e){"PUSH"===e.history.action&&(this.refs.mainPanel.scrollTop=0,document.scrollingElement.scrollTop=0)}},{key:"render",value:function(){return l.a.createElement("div",{className:"wrapper"},l.a.createElement(Xe,Object.assign({},this.props,{routes:Ve,bgColor:this.state.backgroundColor,activeColor:this.state.activeColor})),l.a.createElement("div",{className:"main-panel",ref:"mainPanel"},l.a.createElement(Fe,this.props),l.a.createElement(m.a,null,Ve.map(function(e,t){return e.pro?null:e.redirect?l.a.createElement(f.a,{from:e.path,to:e.pathTo,key:t}):l.a.createElement(u.a,{path:e.path,component:e.component,key:t})})),l.a.createElement(Te,{fluid:!0})))}}]),t}(l.a.Component),et=a(64);function tt(){var e=Object(O.a)(["\n         mutation signinUser($email: String!, $password: String!){\n        signinUser(\n          email: { email: $email, password: $password }\n        ) {\n          token\n          user {\n            id\n            utype\n            email\n            name\n            phone\n            nid\n            prescriptions {\n              docname\n              docid\n              details\n              med\n            }\n          }\n        }\n      }\n      "]);return tt=function(){return e},e}var at=new et.GraphQLClient("https://api.graph.cool/simple/v1/cjnaaji6g014p0127lqfjvz73",{headers:{}}),nt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={activeTab:"1",loginEmail:"",loginPass:"",token:"",regEmail:"",regPass:"",regName:"",regId:"",regPhn:"",regType:""},a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.login=a.login.bind(Object(y.a)(Object(y.a)(a))),a.reg=a.reg.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(ve.a)({},e.target.id,e.target.value))}},{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"login",value:function(){var e=Object(Z.a)(J.a.mark(function e(){var t=this;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.mutate({mutation:N()(tt()),variables:{email:this.state.loginEmail,password:this.state.loginPass}}).then(function(e){"Pharmacy"===e.data.signinUser.user.utype?t.props.history.push({pathname:"/search",state:{logInfo:[e.data.signinUser.token,e.data.signinUser.user.id]}}):"Doctor"===e.data.signinUser.user.utype?t.props.history.push({pathname:"/docdash",state:{logInfo:[e.data.signinUser.token,e.data.signinUser.user.nid,e.data.signinUser.user.name]}}):"Hospital"===e.data.signinUser.user.utype?t.props.history.push({pathname:"/hospitaldashboard",state:{logInfo:[e.data.signinUser.token,e.data.signinUser.user.id,e.data.signinUser.user.phone,e.data.signinUser.user.nid,e.data.signinUser.user.name]}}):"Patient"===e.data.signinUser.user.utype?t.props.history.push({pathname:"/userdashboard",state:{logInfo:[e.data.signinUser.token,e.data.signinUser.user.id,e.data.signinUser.user.phone,e.data.signinUser.user.nid,e.data.signinUser.user.name]}}):"Admin"===e.data.signinUser.user.utype&&t.props.history.push({pathname:"/dashboard",state:{logInfo:[e.data.signinUser.token,e.data.signinUser.user.id,e.data.signinUser.user.phone,e.data.signinUser.user.nid,e.data.signinUser.user.name]}})}).catch(function(e){alert("Incorrect username or password")});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"reg",value:function(){var e=this.state.regEmail,t=this.state.regPass,a=this.state.regId,n=this.state.regPhn,l=this.state.regType,r=this.state.regName;return at.request("\n   mutation(\n     $email : String!\n     $pass : String!\n     $nid : String\n     $phone : String\n     $utype : String\n     $name : String\n   ){\n    createUser(\n      authProvider : {\n        email : {\n          email : $email\n          password : $pass\n        }\n      }\n      nid : $nid\n      phone : $phone\n      utype : $utype \n      name : $name\n    ){\n      id\n    }\n  }\n \n",{email:e,pass:t,nid:a,phone:n,utype:l,name:r}).then(function(e){alert("User registered successfully")}).catch(function(e){alert("Email Id is already registered")})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"authMain"},l.a.createElement("h2",{className:"mainAuthLogo"},l.a.createElement("span",{className:"authPageTextLogo"},"CVIS"),l.a.createElement("b",null," EMR")," "),l.a.createElement("div",{className:"authFormHelper"},l.a.createElement("div",{className:"authForm"},l.a.createElement(v.v,{tabs:!0},l.a.createElement(v.w,null,l.a.createElement(v.x,{className:ee()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")}},"Login")),l.a.createElement(v.w,null,l.a.createElement(v.x,{className:ee()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")}},"Register"))),l.a.createElement(v.C,{activeTab:this.state.activeTab},l.a.createElement(v.D,{tabId:"1"},l.a.createElement("form",{className:"authFormDevider"},l.a.createElement(v.n,null,l.a.createElement(v.q,{for:"exampleEmail"},"Email address"),l.a.createElement(v.p,{type:"email",id:"loginEmail",placeholder:"Enter email",onChange:this.handleChange}),l.a.createElement(v.o,{color:"muted"},"We'll never share your email with anyone else.")),l.a.createElement(v.n,null,l.a.createElement(v.q,{for:"examplePassword"},"Password"),l.a.createElement(v.p,{type:"password",id:"loginPass",placeholder:"Password",onChange:this.handleChange})),l.a.createElement(v.b,{color:"primary",onClick:this.login},"Login"))),l.a.createElement(v.D,{tabId:"2"},l.a.createElement("form",{className:"authFormDevider"},l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"inputEmail4"},"Email"),l.a.createElement(v.p,{type:"email",id:"regEmail",placeholder:"Email",onChange:this.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"inputPassword4"},"Password"),l.a.createElement(v.p,{type:"password",id:"regPass",placeholder:"Password",onChange:this.handleChange}))),l.a.createElement(v.n,null,l.a.createElement(v.q,{for:"inputAddress"},"Name"),l.a.createElement(v.p,{type:"text",id:"regName",placeholder:"User Full Name",onChange:this.handleChange})),l.a.createElement(v.n,null,l.a.createElement(v.q,{for:"inputAddress2"},"Identification Number"),l.a.createElement(v.p,{type:"text",id:"regId",placeholder:"Nid / Passport / Birth Cirtificate/ Doctor, Pharma or Hospitals licence no",onChange:this.handleChange})),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"inputCity"},"Phone"),l.a.createElement(v.p,{type:"text",id:"regPhn",onChange:this.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"inputState"},"User Type"),l.a.createElement(v.p,{type:"select",name:"select",id:"regType",onChange:this.handleChange},l.a.createElement("option",null,"Please Select"),l.a.createElement("option",null,"Patient"),l.a.createElement("option",null,"Doctor"),l.a.createElement("option",null,"Pharmacy"),l.a.createElement("option",null,"Hospital"))))),l.a.createElement(v.b,{type:"submit",color:"primary",onClick:this.reg},"Register"))))))}}]),t}(l.a.Component),lt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).back=a.back.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"back",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"render",value:function(){return l.a.createElement("div",{className:"unauthMain"},l.a.createElement("img",{className:"unauthImg",src:"https://cdn.shopify.com/s/files/1/2439/4751/products/No_Access_1024x1024.jpg?v=1507696736",alt:"Unauthoized"}),l.a.createElement("h1",null,"Unauthorizes Access !!"),l.a.createElement(v.b,{onClick:this.back},"Get Authorized"))}}]),t}(l.a.Component);function rt(){var e=Object(O.a)(["\n        query allPrescriptions($searchText: String!){\n      \n          allPrescriptions(\n            filter : {\n            OR : [{\n                nid : $searchText\n              },{\n                phn : $searchText\n              }\n              ]\n          }\n          ){\n            id\n            docname\n            docid\n            details\n            createdAt\n            owner\n            chember\n            med\n            updatedAt\n            phn\n            nid\n          }\n        }\n      "]);return rt=function(){return e},e}var ct=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={text:"",inputText:"",mode:"view",result:[]},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.handleSave=a.handleSave.bind(Object(y.a)(Object(y.a)(a))),a.handleEdit=a.handleEdit.bind(Object(y.a)(Object(y.a)(a))),a.display=a.display.bind(Object(y.a)(Object(y.a)(a))),a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.logOut=a.logOut.bind(Object(y.a)(Object(y.a)(a))),"undefined"!=typeof e.history.location.state&&null!=e.history.location.state||a.props.history.push({pathname:"/unauth"}),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"handleChange",value:function(e){this.setState({inputText:e.target.value})}},{key:"handleSave",value:function(){this.setState({text:this.state.inputText,mode:"view"})}},{key:"handleEdit",value:function(){this.setState({mode:"edit"})}},{key:"logOut",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"display",value:function(){var e=this;_t.query({variables:{searchText:this.state.inputText},query:N()(rt())}).then(function(t){e.setState({result:t}),e.handleEdit(),console.log(e.state.result.data.allPrescriptions)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return"view"===this.state.mode?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(v.a,{className:"searchbar",color:"danger"},l.a.createElement("br",null),l.a.createElement("h2",null,l.a.createElement("i",{className:"fa fa-search "}),"\xa0\xa0Search for prescription ",l.a.createElement("br",null)),l.a.createElement("form",null,l.a.createElement(v.p,{className:"searchboxheight",type:"text",placeholder:"Search using nid/phone/any kind of id",id:"inputText",onChange:this.handleChange,required:!0}),l.a.createElement("br",null),l.a.createElement(te,{size:"lg",color:"primary",onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"}),"  Search")," ",l.a.createElement("br",null)),l.a.createElement(te,{color:"warning",size:"lg",onClick:this.logOut},"LogOut"))),l.a.createElement(Te,null)):l.a.createElement("div",{className:"content"},l.a.createElement(v.y,{expand:"lg",color:"dark"},l.a.createElement(v.m,{inline:!0,className:"ml-auto"},l.a.createElement(v.n,null,l.a.createElement(v.p,{type:"text",placeholder:"Search",id:"searchText",onChange:this.handleChange})),l.a.createElement(te,{color:"neutral",icon:!0,round:!0,onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"})))),l.a.createElement("div",null,l.a.createElement(v.B,null,0===this.state.result.data.allPrescriptions.length&&l.a.createElement("div",{className:"searchCenter"},l.a.createElement(v.a,{color:"danger"},l.a.createElement("h3",null,"No prescription found corresponding to given id/nid/phone/passport/birthcirtificate.")),l.a.createElement("h4",null,l.a.createElement(v.a,{color:"info"},"You have inserted",l.a.createElement(v.a,{color:"light"},l.a.createElement("pre",null,this.state.inputText))))),this.state.result.data.allPrescriptions.map(function(t){var a=t.id,n=t.docname,r=t.details,c=t.createdAt,o=t.owner,i=t.docid,s=t.chember,m=t.med,u=t.updatedAt,d=t.phn;t.nid;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:"http://icons-for-free.com/free-icons/png/512/1290990.png",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Doctor : ",n),l.a.createElement(v.h,null,l.a.createElement("b",null,"Problem :")," ",r),l.a.createElement(v.h,null,l.a.createElement("b",null,"Date :")," ",c),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Prescription of ",l.a.createElement("b",null,l.a.createElement("i",null,o)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Prescription Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",c)),l.a.createElement("tr",null,l.a.createElement("td",null,"Doctor :  \xa0 ",n)),l.a.createElement("tr",null,l.a.createElement("td",null,"DocID :  \xa0 ",i)),l.a.createElement("tr",null,l.a.createElement("td",null,"Paitent contact no :  \xa0 ",d)),l.a.createElement("tr",null,l.a.createElement("td",null,"Chember :  \xa0 ",s)),l.a.createElement("tr",null,l.a.createElement("td",null,"Details :  \xa0 ",r)),l.a.createElement("tr",null,l.a.createElement("td",null,"Medicine :  \xa0 ",m)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",u))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))}))),l.a.createElement(te,{className:"searchBtHelper",color:"warning",onClick:this.logOut},"LogOut"),l.a.createElement(Te,null))}}]),t}(l.a.Component),ot=Object(w.withApollo)(ct),it=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).back=a.back.bind(Object(y.a)(Object(y.a)(a))),a.search=a.search.bind(Object(y.a)(Object(y.a)(a))),a.cp=a.cp.bind(Object(y.a)(Object(y.a)(a))),a.sr=a.sr.bind(Object(y.a)(Object(y.a)(a))),"undefined"==typeof e.history.location.state||null==e.history.location.state?a.props.history.push({pathname:"/unauth"}):(a.state={logInfoId:a.props.history.location.state.logInfo[1],logInfoToken:a.props.history.location.state.logInfo[0],uname:a.props.history.location.state.logInfo[2]},console.log(a.state.logInfoId)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"back",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"cp",value:function(){this.props.history.push({pathname:"/cp_doc",state:{logInfo:[this.state.logInfoId,this.state.logInfoToken,this.state.uname]}})}},{key:"search",value:function(){this.props.history.push({pathname:"/docsearch",state:{logInfo:[this.state.logInfoId,this.state.logInfoToken,this.state.uname]}})}},{key:"sr",value:function(){this.props.history.push({pathname:"/searchreport",state:{logInfo:[this.state.logInfoId,this.state.logInfoToken,this.state.nid,this.state.phone,this.state.uname]}})}},{key:"render",value:function(){return l.a.createElement("div",{className:"ddmain"},l.a.createElement("img",{src:"https://images.vexels.com/media/users/3/144185/isolated/lists/a9075b02366ea61e8995f8d5b08d0267-flat-doctor-cartoon.png"}),l.a.createElement("h3",null,"Welcome Doctor ",l.a.createElement("b",null,this.state.uname)," !!"),l.a.createElement(v.B,{className:"ddcenterbuttongroup"},l.a.createElement(v.j,{sm:"4"},l.a.createElement(v.c,null,l.a.createElement(v.g,{top:!0,src:"https://us.123rf.com/450wm/hilch/hilch1802/hilch180200503/94767811-date-and-time-calendar-and-add-event-thin-line-flat-color-icon-vector-illustration-pictogram-isolate.jpg?ver=6",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Add Prescription"),l.a.createElement(te,{onClick:this.cp,color:"primary"},"Add")))),l.a.createElement(v.j,{sm:"4"},l.a.createElement(v.c,null,l.a.createElement(v.g,{top:!0,src:"https://cdn.dribbble.com/users/77712/screenshots/1170246/flat_read.png",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Search Prescription/Report"),l.a.createElement(te,{onClick:this.search,color:"primary"},"Prescription"),l.a.createElement(te,{onClick:this.sr,color:"primary"},"Report")))),l.a.createElement(v.j,{sm:"4"},l.a.createElement(v.c,null,l.a.createElement(v.g,{top:!0,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Circle-icons-power.svg/1024px-Circle-icons-power.svg.png",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Log Out"),l.a.createElement(te,{onClick:this.back,color:"primary"},"Log Out"))))),l.a.createElement(Te,null))}}]),t}(l.a.Component);function st(){var e=Object(O.a)(["\n      mutation createPrescription(\n        $owner: String!,\n        $nid: String,\n        $docname: String!,\n        $docid: String!,\n        $chember: String,\n        $details: String!,\n        $med: String,\n        $phn: String\n       ){\n          createPrescription(\n            owner: $owner,\n            nid  : $nid ,\n        docname  : $docname,\n         docid   : $docid,\n        chember  : $chember,\n        details  : $details,\n           med   : $med,\n          phn    : $phn\n          ){\n            id\n            owner\n            docname\n            details\n            phn\n          }\n        }\n      "]);return st=function(){return e},e}var mt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={pname:"",nid:"",inputAddress:"",phnno:"",inputDetails:"",inputMed:""},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.back=a.back.bind(Object(y.a)(Object(y.a)(a))),"undefined"==typeof e.history.location.state||null==e.history.location.state?a.props.history.push({pathname:"/unauth"}):(a.state={drid:a.props.history.location.state.logInfo[0],logInfoToken:a.props.history.location.state.logInfo[1],docname:a.props.history.location.state.logInfo[2]},console.log(a.state.uname)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"back",value:function(){this.props.history.push({pathname:"/docdash",state:{logInfo:[this.state.drid,this.state.logInfoToken,this.state.docname]}})}},{key:"handleChange",value:function(e){this.setState(Object(ve.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"content"},l.a.createElement(w.Mutation,{mutation:N()(st()),variables:{owner:this.state.pname,nid:this.state.nid,docname:this.state.docname,docid:this.state.drid,chember:this.state.inputAddress,details:this.state.inputDetails,med:this.state.inputMed,phn:this.state.phnno}},function(t,a){var n=a.data,r=a.loading,c=a.error;return r?l.a.createElement("div",null,l.a.createElement(ne.a,{className:"loadingScreenAnimation",type:"spin",color:"white",height:"60%",width:"60%"})):n?l.a.createElement("div",{className:"successCreateNoify"},l.a.createElement(v.c,{className:"successCreateNoifyHelper",style:{width:"30rem"}},l.a.createElement(v.g,{top:!0,src:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-512.png",alt:"Card image cap"}),l.a.createElement(v.i,null,"Prescription Created Successfully!!"),l.a.createElement(v.h,null,"Prescription ID : ",l.a.createElement("b",null,n.createPrescription.id),l.a.createElement("br",null),"Patient Name : ",l.a.createElement("b",null,n.createPrescription.owner),l.a.createElement("br",null),"Doctor Name : ",l.a.createElement("b",null,n.createPrescription.docname),l.a.createElement("br",null),"Health Issues : ",l.a.createElement("b",null,n.createPrescription.details),l.a.createElement("br",null),"Paitent Contact No : ",l.a.createElement("b",null,n.createPrescription.phn),l.a.createElement("br",null)),l.a.createElement(te,{onClick:e.back},"Back"))):c?l.a.createElement("p",null,"Invalid Docor Id"):l.a.createElement(v.B,null,l.a.createElement(v.j,{md:12},l.a.createElement(v.c,null,l.a.createElement(v.f,null,l.a.createElement("h5",{className:"title"},"Fill Up The Form With Patient Information")),l.a.createElement(v.d,null,l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"pname"},"Patient Name"),l.a.createElement(v.p,{type:"text",id:"pname",placeholder:"Patient Name",onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"nid"},"NID / Passpost No / Birth Cirtificate No"),l.a.createElement(v.p,{type:"text",id:"nid",placeholder:"NID / Passpost No / Birth Cirtificate No",onChange:e.handleChange}))),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"docname"},"Doctors Name"),l.a.createElement(v.p,{type:"text",id:"docname",placeholder:e.state.docname,onChange:e.handleChange,disabled:!0})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"drid"},"Doctors ID"),l.a.createElement(v.p,{type:"text",id:"drid",placeholder:e.state.drid,onChange:e.handleChange,disabled:!0}))),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"inputAddress"},"Chember Address"),l.a.createElement(v.p,{type:"text",id:"inputAddress",placeholder:"Doctors Chember Address",onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"phnno"},"Patient contact no"),l.a.createElement(v.p,{type:"text",id:"phnno",placeholder:"Patient contact no",onChange:e.handleChange}))),l.a.createElement(v.n,null,l.a.createElement(v.q,{for:"inputDetails"},"Details"),l.a.createElement(v.p,{type:"text",id:"inputDetails",placeholder:"Issues regarding the patient",onChange:e.handleChange})),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-12"},l.a.createElement(v.q,{for:"inputMed"},"Medicine"),l.a.createElement(v.p,{type:"text",id:"inputMed",placeholder:"Suggested medicines for the patient",onChange:e.handleChange}))),l.a.createElement(te,{type:"submit",value:"Submit",color:"success",size:"lg",onClick:function(){t()}},l.a.createElement("i",{className:"fa fa-save"})," \xa0Create"),l.a.createElement(te,{type:"submit",value:"Submit",color:"success",size:"lg",onClick:e.back},l.a.createElement("i",{className:"fa fa-angle-double-left "})," \xa0Back"))))))}),l.a.createElement(Te,null))}}]),t}(l.a.Component);function ut(){var e=Object(O.a)(["\n        query allPrescriptions($searchText: String!){\n      \n          allPrescriptions(\n            filter : {\n            OR : [{\n                nid : $searchText\n              },{\n                phn : $searchText\n              }\n              ]\n          }\n          ){\n            id\n            docname\n            docid\n            details\n            createdAt\n            owner\n            chember\n            med\n            updatedAt\n            phn\n            nid\n          }\n        }\n      "]);return ut=function(){return e},e}var dt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.handleSave=a.handleSave.bind(Object(y.a)(Object(y.a)(a))),a.handleEdit=a.handleEdit.bind(Object(y.a)(Object(y.a)(a))),a.display=a.display.bind(Object(y.a)(Object(y.a)(a))),a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.logOut=a.logOut.bind(Object(y.a)(Object(y.a)(a))),a.up=a.up.bind(Object(y.a)(Object(y.a)(a))),a.back=a.back.bind(Object(y.a)(Object(y.a)(a))),"undefined"==typeof e.history.location.state||null==e.history.location.state?a.props.history.push({pathname:"/unauth"}):a.state={drid:a.props.history.location.state.logInfo[1],logInfoToken:a.props.history.location.state.logInfo[0],docname:a.props.history.location.state.logInfo[2],text:"",inputText:"",mode:"view",result:[]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"up",value:function(e,t,a,n,l,r,c,o,i,s,m){this.props.history.push({pathname:"/doc_prescription_update",state:{some:[e,t,a,n,l,r,c,o,i,s,m],logInfo:[this.state.drid,this.state.logInfoToken,this.state.docname]}})}},{key:"handleChange",value:function(e){this.setState({inputText:e.target.value})}},{key:"handleSave",value:function(){this.setState({text:this.state.inputText,mode:"view"})}},{key:"handleEdit",value:function(){this.setState({mode:"edit"})}},{key:"back",value:function(){this.props.history.push({pathname:"/docdash",state:{logInfo:[this.state.drid,this.state.logInfoToken,this.state.docname]}})}},{key:"logOut",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"display",value:function(){var e=this;_t.query({variables:{searchText:this.state.inputText},query:N()(ut())}).then(function(t){e.setState({result:t}),e.handleEdit(),console.log(e.state.result.data.allPrescriptions)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return"view"===this.state.mode?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(v.a,{className:"searchbar",color:"danger"},l.a.createElement("br",null),l.a.createElement("h2",null,l.a.createElement("i",{className:"fa fa-search "}),"\xa0\xa0Search for prescription ",l.a.createElement("br",null)),l.a.createElement("form",null,l.a.createElement(v.p,{className:"searchboxheight",type:"text",placeholder:"Search using nid/phone/any kind of id",id:"inputText",onChange:this.handleChange,required:!0}),l.a.createElement("br",null),l.a.createElement(te,{size:"lg",color:"primary",onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"}),"  Search")," ",l.a.createElement("br",null)),l.a.createElement(te,{type:"submit",value:"Submit",color:"info",size:"lg",onClick:this.back},l.a.createElement("i",{className:"fa fa-angle-double-left "})," \xa0Back"),l.a.createElement(te,{color:"warning",size:"lg",onClick:this.logOut},"LogOut"))),l.a.createElement(Te,null)):l.a.createElement("div",{className:"content"},l.a.createElement(v.y,{expand:"lg",color:"dark"},l.a.createElement(v.m,{inline:!0,className:"ml-auto"},l.a.createElement(v.n,null,l.a.createElement(v.p,{type:"text",placeholder:"Search",id:"searchText",onChange:this.handleChange})),l.a.createElement(te,{color:"neutral",icon:!0,round:!0,onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"})))),l.a.createElement("div",null,l.a.createElement(v.B,{className:"helper"},0===this.state.result.data.allPrescriptions.length&&l.a.createElement("div",{className:"searchCenter"},l.a.createElement(v.a,{color:"danger"},l.a.createElement("h3",null,"No prescription found corresponding to given id/nid/phone/passport/birthcirtificate.")),l.a.createElement("h4",null,l.a.createElement(v.a,{color:"info"},"You have inserted",l.a.createElement(v.a,{color:"light"},l.a.createElement("pre",null,this.state.inputText))))),this.state.result.data.allPrescriptions.map(function(t){var a=t.id,n=t.docname,r=t.details,c=t.createdAt,o=t.owner,i=t.docid,s=t.chember,m=t.med,u=t.updatedAt,d=t.phn,p=t.nid;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:"http://icons-for-free.com/free-icons/png/512/1290990.png",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Doctor : ",n),l.a.createElement(v.h,null,l.a.createElement("b",null,"Problem :")," ",r),l.a.createElement(v.h,null,l.a.createElement("b",null,"Date :")," ",c),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Prescription of ",l.a.createElement("b",null,l.a.createElement("i",null,o)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Prescription Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",c)),l.a.createElement("tr",null,l.a.createElement("td",null,"Doctor :  \xa0 ",n)),l.a.createElement("tr",null,l.a.createElement("td",null,"DocID :  \xa0 ",i)),l.a.createElement("tr",null,l.a.createElement("td",null,"Paitent contact no :  \xa0 ",d)),l.a.createElement("tr",null,l.a.createElement("td",null,"Chember :  \xa0 ",s)),l.a.createElement("tr",null,l.a.createElement("td",null,"Details :  \xa0 ",r)),l.a.createElement("tr",null,l.a.createElement("td",null,"Medicine :  \xa0 ",m)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",u))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"default",onClick:function(){e.up(a,n,r,c,o,i,s,m,u,d,p)}},"Update"),l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))}))),l.a.createElement(te,{className:"searchBtHelper",type:"submit",value:"Submit",color:"info",onClick:this.back},l.a.createElement("i",{className:"fa fa-angle-double-left "})," \xa0Back"),l.a.createElement(te,{className:"searchBtHelper",color:"warning",onClick:this.logOut},"LogOut"),l.a.createElement(Te,null))}}]),t}(l.a.Component),pt=Object(w.withApollo)(dt);function ht(){var e=Object(O.a)(["\n      mutation updatePrescription(\n        $id : ID!,\n        $owner: String!,\n        $nid: String,\n        $docname: String!,\n        $docid: String!,\n        $chember: String,\n        $details: String!,\n        $med: String,\n        $phn: String\n       ){\n          updatePrescription(\n              id : $id,\n            owner: $owner,\n            nid  : $nid ,\n        docname  : $docname,\n         docid   : $docid,\n        chember  : $chember,\n        details  : $details,\n           med   : $med,\n          phn    : $phn\n          ){\n            id\n            owner\n            docname\n            details\n            phn\n          }\n        }\n      "]);return ht=function(){return e},e}var Et=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.back=a.back.bind(Object(y.a)(Object(y.a)(a))),"undefined"==typeof e.history.location.state||null==e.history.location.state?a.props.history.push({pathname:"/unauth"}):a.state={pname:a.props.history.location.state.some[4],nid:a.props.history.location.state.some[10],docname:a.props.history.location.state.some[1],drid:a.props.history.location.state.some[5],inputAddress:a.props.history.location.state.some[6],phnno:a.props.history.location.state.some[9],inputDetails:a.props.history.location.state.some[2],inputMed:a.props.history.location.state.some[7],viewPresciption:a.props.history.location.state.some[0],currentdrid:a.props.history.location.state.logInfo[1],logInfoToken:a.props.history.location.state.logInfo[0],currentdocname:a.props.history.location.state.logInfo[2]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"back",value:function(){this.props.history.push({pathname:"/docsearch",state:{logInfo:[this.state.currentdrid,this.state.logInfoToken,this.state.currentdocname]}})}},{key:"handleChange",value:function(e){this.setState(Object(ve.a)({},e.target.id,e.target.value))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"content"},l.a.createElement(w.Mutation,{mutation:N()(ht()),variables:{id:this.state.viewPresciption,owner:this.state.pname,nid:this.state.nid,docname:this.state.docname,docid:this.state.drid,chember:this.state.inputAddress,details:this.state.inputDetails,med:this.state.inputMed,phn:this.state.phnno}},function(t,a){var n=a.data,r=a.loading,c=a.error;return r?l.a.createElement("div",null,l.a.createElement(ne.a,{className:"loadingScreenAnimation",type:"spin",color:"white",height:"60%",width:"60%"})):n?l.a.createElement("div",{className:"successCreateNoify"},l.a.createElement(v.c,{className:"successCreateNoifyHelper",style:{width:"30rem"}},l.a.createElement(v.g,{top:!0,src:"https://cdn2.iconfinder.com/data/icons/greenline/512/check-512.png",alt:"Card image cap"}),l.a.createElement(v.i,null,"Prescription Updated Successfully!!"),l.a.createElement(v.h,null,"Prescription ID : ",l.a.createElement("b",null,n.updatePrescription.id),l.a.createElement("br",null),"Patient Name : ",l.a.createElement("b",null,n.updatePrescription.owner),l.a.createElement("br",null),"Doctor Name : ",l.a.createElement("b",null,n.updatePrescription.docname),l.a.createElement("br",null),"Health Issues : ",l.a.createElement("b",null,n.updatePrescription.details),l.a.createElement("br",null),"Paitent Contact No : ",l.a.createElement("b",null,n.updatePrescription.phn),l.a.createElement("br",null)),l.a.createElement(te,{onClick:e.back},"Back"))):c?l.a.createElement("p",null,"Error :("):l.a.createElement(v.B,null,l.a.createElement(v.j,{md:12},l.a.createElement(v.c,null,l.a.createElement(v.f,null,l.a.createElement("h5",{className:"title"},"Update Prescription"),l.a.createElement(v.a,{color:"warning"},l.a.createElement("b",null,"Input fields are already filled with existing prescription data")," ")),l.a.createElement(v.d,null,l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"pname"},"Patient Name"),l.a.createElement(v.p,{type:"text",id:"pname",placeholder:e.state.pname,onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"nid"},"NID / Passpost No / Birth Cirtificate No"),l.a.createElement(v.p,{type:"text",id:"nid",placeholder:e.state.nid,onChange:e.handleChange}))),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"docname"},"Doctors Name"),l.a.createElement(v.p,{type:"text",id:"docname",placeholder:e.state.docname,onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"drid"},"Doctors ID"),l.a.createElement(v.p,{type:"text",id:"drid",placeholder:e.state.drid,onChange:e.handleChange}))),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"inputAddress"},"Chember Address"),l.a.createElement(v.p,{type:"text",id:"inputAddress",placeholder:e.state.inputAddress,onChange:e.handleChange})),l.a.createElement(v.n,{className:"col-md-6"},l.a.createElement(v.q,{for:"phnno"},"Patient contact no"),l.a.createElement(v.p,{type:"text",id:"phnno",placeholder:e.state.phnno,onChange:e.handleChange}))),l.a.createElement(v.n,null,l.a.createElement(v.q,{for:"inputDetails"},"Details"),l.a.createElement(v.p,{type:"text",id:"inputDetails",placeholder:e.state.inputDetails,onChange:e.handleChange})),l.a.createElement("div",{className:"form-row"},l.a.createElement(v.n,{className:"col-md-12"},l.a.createElement(v.q,{for:"inputMed"},"Medicine"),l.a.createElement(v.p,{type:"text",id:"inputMed",placeholder:e.state.inputMed,onChange:e.handleChange}))),l.a.createElement(te,{type:"submit",value:"Submit",color:"success",size:"lg",onClick:function(){t()}},l.a.createElement("i",{className:"fa fa-save"})," \xa0Update"),l.a.createElement(te,{type:"submit",value:"Submit",color:"success",size:"lg",onClick:e.back},l.a.createElement("i",{className:"fa fa-angle-double-left "})," \xa0Back"))))))}))}}]),t}(l.a.Component),gt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).back=a.back.bind(Object(y.a)(Object(y.a)(a))),a.search=a.search.bind(Object(y.a)(Object(y.a)(a))),a.cp=a.cp.bind(Object(y.a)(Object(y.a)(a))),a.searchReport=a.searchReport.bind(Object(y.a)(Object(y.a)(a))),"undefined"==typeof e.history.location.state||null==e.history.location.state?a.props.history.push({pathname:"/unauth"}):a.state={logInfoToken:a.props.history.location.state.logInfo[0],logInfoId:a.props.history.location.state.logInfo[1],phone:a.props.history.location.state.logInfo[2],nid:a.props.history.location.state.logInfo[3],uname:a.props.history.location.state.logInfo[4]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"back",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"cp",value:function(){this.props.history.push({pathname:"/cp_user",state:{logInfo:[this.state.nid,this.state.logInfoToken,this.state.uname,this.state.phone]}})}},{key:"search",value:function(){this.props.history.push({pathname:"/userprescription",state:{logInfo:[this.state.logInfoId,this.state.logInfoToken,this.state.nid,this.state.phone,this.state.uname]}})}},{key:"searchReport",value:function(){this.props.history.push({pathname:"/userreport",state:{logInfo:[this.state.logInfoId,this.state.logInfoToken,this.state.nid,this.state.phone,this.state.uname]}})}},{key:"render",value:function(){return l.a.createElement("div",{className:"ddmain"},l.a.createElement("img",{src:"https://img10.androidappsapk.co/300/0/d/4/com.outpatient.williamosler.png"}),l.a.createElement("h3",null,"Welcome  ",l.a.createElement("b",null,this.state.uname)," !!"),l.a.createElement(v.B,{className:"ddcenterbuttongroup"},l.a.createElement(v.j,{sm:"4"},l.a.createElement(v.c,null,l.a.createElement(v.g,{top:!0,src:"https://us.123rf.com/450wm/hilch/hilch1802/hilch180200503/94767811-date-and-time-calendar-and-add-event-thin-line-flat-color-icon-vector-illustration-pictogram-isolate.jpg?ver=6",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Add Prescription / Report"),l.a.createElement("pre",null,"You will find this files under view report section"),l.a.createElement(te,{onClick:this.cp,color:"primary"},"Add")))),l.a.createElement(v.j,{sm:"4"},l.a.createElement(v.c,null,l.a.createElement(v.g,{top:!0,src:"https://cdn.dribbble.com/users/77712/screenshots/1170246/flat_read.png",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"View Prescription/Report"),l.a.createElement(te,{onClick:this.search,color:"primary"},"Prescription"),l.a.createElement(te,{onClick:this.searchReport,color:"primary"},"Report")))),l.a.createElement(v.j,{sm:"4"},l.a.createElement(v.c,null,l.a.createElement(v.g,{top:!0,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Circle-icons-power.svg/1024px-Circle-icons-power.svg.png",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Log Out"),l.a.createElement(te,{onClick:this.back,color:"primary"},"Log Out"))))),l.a.createElement(Te,null))}}]),t}(l.a.Component);function bt(){var e=Object(O.a)(["\n    query allPrescriptions($phn: String, $nid: String){\n      \n      allPrescriptions(\n        filter : {\n          OR : [{\n            phn : $phn\n          }, {\n            nid : $nid\n          }\n          ]\n      }\n      ){\n        id\n        docname\n        docid\n        details\n        createdAt\n        owner\n        chember\n        med\n        updatedAt\n        phn\n        nid\n      }\n    }\n    "]);return bt=function(){return e},e}var ft=function(e){return l.a.createElement(w.Query,{query:N()(bt()),variables:{phn:e.state.phone,nid:e.state.nid}},function(t){var a=t.loading,n=t.error,r=t.data;return a?l.a.createElement("div",null,l.a.createElement(ne.a,{className:"loadingScreenAnimation",type:"spin",color:"white",height:"60%",width:"60%"})):n?l.a.createElement("p",null,"Error :("):r.allPrescriptions.map(function(t){var a=t.id,n=t.docname,r=t.details,c=t.createdAt,o=t.owner,i=t.docid,s=t.chember,m=t.med,u=t.updatedAt,d=t.phn,p=t.nid;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:"http://icons-for-free.com/free-icons/png/512/1290990.png",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Doctor : ",n),l.a.createElement(v.h,null,l.a.createElement("b",null,"Problem :")," ",r),l.a.createElement(v.h,null,l.a.createElement("b",null,"Date :")," ",c),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Prescription of ",l.a.createElement("b",null,l.a.createElement("i",null,o)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Prescription Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",c)),l.a.createElement("tr",null,l.a.createElement("td",null,"Doctor :  \xa0 ",n)),l.a.createElement("tr",null,l.a.createElement("td",null,"DocID :  \xa0 ",i)),l.a.createElement("tr",null,l.a.createElement("td",null,"Paitent contact no :  \xa0 ",d)),l.a.createElement("tr",null,l.a.createElement("td",null,"Patient Id : \xa0 ",p)),l.a.createElement("tr",null,l.a.createElement("td",null,"Chember :  \xa0 ",s)),l.a.createElement("tr",null,l.a.createElement("td",null,"Details :  \xa0 ",r)),l.a.createElement("tr",null,l.a.createElement("td",null,"Medicine :  \xa0 ",m)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",u))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))})})},yt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.back=a.back.bind(Object(y.a)(Object(y.a)(a))),"undefined"==typeof e.history.location.state||null==e.history.location.state?a.props.history.push({pathname:"/unauth"}):a.state={modal:!1,viewPresciptionId:null,logInfoId:a.props.history.location.state.logInfo[0],logInfoToken:a.props.history.location.state.logInfo[1],phone:a.props.history.location.state.logInfo[3],nid:a.props.history.location.state.logInfo[2],uname:a.props.history.location.state.logInfo[4]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"back",value:function(){this.props.history.push({pathname:"/userdashboard",state:{logInfo:[this.state.logInfoToken,this.state.logInfoId,this.state.phone,this.state.nid,this.state.uname]}})}},{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"render",value:function(){return l.a.createElement("div",{className:"content"},l.a.createElement(v.y,{expand:"lg",color:"dark"}),l.a.createElement("div",null,l.a.createElement(v.B,{className:"helper"},l.a.createElement(ft,{toggle:this.toggle,state:this.state,delete:this.delete,preDelete:this.preDelete,up:this.up})),l.a.createElement(te,{type:"submit",value:"Submit",color:"info",className:"searchBtHelper",onClick:this.back},l.a.createElement("i",{className:"fa fa-angle-double-left "})," \xa0Back")))}}]),t}(l.a.Component),vt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).back=a.back.bind(Object(y.a)(Object(y.a)(a))),a.search=a.search.bind(Object(y.a)(Object(y.a)(a))),a.cp=a.cp.bind(Object(y.a)(Object(y.a)(a))),a.sr=a.sr.bind(Object(y.a)(Object(y.a)(a))),"undefined"==typeof e.history.location.state||null==e.history.location.state?a.props.history.push({pathname:"/unauth"}):a.state={logInfoToken:a.props.history.location.state.logInfo[0],logInfoId:a.props.history.location.state.logInfo[1],phone:a.props.history.location.state.logInfo[2],nid:a.props.history.location.state.logInfo[3],uname:a.props.history.location.state.logInfo[4]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"back",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"cp",value:function(){this.props.history.push({pathname:"/cp_hospital",state:{logInfo:[this.state.nid,this.state.logInfoToken,this.state.uname,this.state.phone]}})}},{key:"search",value:function(){this.props.history.push({pathname:"/search",state:{logInfo:[this.state.logInfoId,this.state.logInfoToken,this.state.nid,this.state.phone,this.state.uname]}})}},{key:"sr",value:function(){this.props.history.push({pathname:"/searchreport",state:{logInfo:[this.state.logInfoId,this.state.logInfoToken,this.state.nid,this.state.phone,this.state.uname]}})}},{key:"render",value:function(){return l.a.createElement("div",{className:"ddmain"},l.a.createElement("img",{style:{width:300},src:"https://images.vexels.com/media/users/3/144223/isolated/preview/f1d0807f8ffad0197757d840bdc97d0b--cone-do-registro-m-dico-by-vexels.png"}),l.a.createElement("h3",null,"Welcome  ",l.a.createElement("b",null,this.state.uname)," !!"),l.a.createElement(v.B,{className:"ddcenterbuttongroup"},l.a.createElement(v.j,{sm:"4"},l.a.createElement(v.c,null,l.a.createElement(v.g,{top:!0,src:"https://us.123rf.com/450wm/hilch/hilch1802/hilch180200503/94767811-date-and-time-calendar-and-add-event-thin-line-flat-color-icon-vector-illustration-pictogram-isolate.jpg?ver=6",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Add Report"),l.a.createElement(te,{onClick:this.cp,color:"primary"},"Add")))),l.a.createElement(v.j,{sm:"4"},l.a.createElement(v.c,null,l.a.createElement(v.g,{top:!0,src:"https://cdn.dribbble.com/users/77712/screenshots/1170246/flat_read.png",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"View Prescription/Report"),l.a.createElement(te,{onClick:this.search,color:"primary"},"Prescription"),l.a.createElement(te,{onClick:this.sr,color:"primary"},"Report")))),l.a.createElement(v.j,{sm:"4"},l.a.createElement(v.c,null,l.a.createElement(v.g,{top:!0,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Circle-icons-power.svg/1024px-Circle-icons-power.svg.png",alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.i,null,"Log Out"),l.a.createElement(te,{onClick:this.back,color:"primary"},"Log Out"))))),l.a.createElement(Te,null))}}]),t}(l.a.Component);function Ot(){var e=Object(O.a)(["\n       mutation createReport($imageID: String, $imageUrl: String,  $phoneid: String){\n        createReport(\n         imageid : $imageID ,\n         imageUrl : $imageUrl ,\n         phoneid : $phoneid\n      ) {\n        id\n        phoneid\n        imageUrl\n      }\n    }\n    "]);return Ot=function(){return e},e}var jt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).onDrop=function(e){var t=new FormData;t.append("data",e[0]),fetch(" https://api.graph.cool/file/v1/cjnaaji6g014p0127lqfjvz73",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){a.setState({imageId:e.id,imageUrl:e.url})})},a.back=a.back.bind(Object(y.a)(Object(y.a)(a))),a.submit=a.submit.bind(Object(y.a)(Object(y.a)(a))),a.lo=a.lo.bind(Object(y.a)(Object(y.a)(a))),a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),"undefined"==typeof e.history.location.state||null==e.history.location.state?a.props.history.push({pathname:"/unauth"}):a.state={modal:!1,phoneid:"",hospitalId:a.props.history.location.state.logInfo[0],logInfoToken:a.props.history.location.state.logInfo[1],hospitalName:a.props.history.location.state.logInfo[2],phnno:a.props.history.location.state.logInfo[3]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"lo",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"back",value:function(){this.props.history.push({pathname:"/hospitaldashboard",state:{logInfo:[this.state.hospitalId,this.state.logInfoToken,this.state.hospitalName,this.state.phnno]}})}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"cphelperMain"},l.a.createElement("h2",null,"Add report for a Patient"),l.a.createElement("pre",{className:"cpHospitalText"},"Enter the patients NID/Birth Cirtificate no/ Passport No/ Phone No. ",l.a.createElement("br",null),"Upload the image of your report.",l.a.createElement("br",null),"The submit button will automatically apper on your screen."),l.a.createElement("div",{style:{maxWidth:400},className:"cphelperAfterMain"},l.a.createElement(v.p,{className:"cpHospitalInput",value:this.state.phoneid,placeholder:"NID/Birth Cirtificate no/ Passport No/ Phone No",onChange:function(t){return e.setState({phoneid:t.target.value})}}),l.a.createElement("br",null),!this.state.imageId&&l.a.createElement(Ne.a,{className:"dz",onDrop:this.onDrop,accept:"image/*",multiple:!1},l.a.createElement("div",null,l.a.createElement("b",null,"Drop an image or click to choose"))),this.state.imageUrl&&l.a.createElement("img",{src:this.state.imageUrl,role:"presentation",className:"w-100 mv3"}),this.state.phnno&&this.state.imageUrl&&l.a.createElement(te,{color:"success",className:"searchBtHelper",onClick:this.submit},l.a.createElement("i",{className:"fa fa-hdd "})," \xa0Post"),l.a.createElement(te,{type:"submit",value:"Submit",color:"info",className:"searchBtHelper",onClick:this.back},l.a.createElement("i",{className:"fa fa-angle-double-left "})," \xa0Back"),l.a.createElement(te,{type:"submit",value:"Submit",color:"danger",className:"searchBtHelper",onClick:this.lo},l.a.createElement("i",{className:"fa fa-sign-out-alt "})," \xa0Log Out"),l.a.createElement(v.r,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},l.a.createElement(v.u,{toggle:this.toggle}),l.a.createElement(v.s,{className:"crhosCenter"},l.a.createElement("img",{src:"https://nazrangrad.ru/wp-content/uploads/2018/01/check-mark-2180770_960_720.png"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",null,"Report Successfully Added")),l.a.createElement(v.t,null,l.a.createElement(te,{color:"info",onClick:this.back},"Back"),l.a.createElement(te,{color:"danger",onClick:this.lo},"Logout")))),l.a.createElement(Te,null))}},{key:"submit",value:function(){var e=Object(Z.a)(J.a.mark(function e(){var t=this;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.mutate({mutation:N()(Ot()),variables:{imageID:this.state.nid,imageUrl:this.state.imageUrl,phoneid:this.state.phoneid}}).then(function(e){t.toggle()}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(l.a.Component);function kt(){var e=Object(O.a)(["\n        query allReports($searchText: String!){\n      \n          allReports(\n            filter : {\n              phoneid : $searchText\n            }\n          ){\n            id\n            imageid\n            imageUrl\n            phoneid\n            createdAt\n            updatedAt\n          }\n          \n        }\n      "]);return kt=function(){return e},e}var Ct=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={text:"",inputText:"",mode:"view",result:[]},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.handleSave=a.handleSave.bind(Object(y.a)(Object(y.a)(a))),a.handleEdit=a.handleEdit.bind(Object(y.a)(Object(y.a)(a))),a.display=a.display.bind(Object(y.a)(Object(y.a)(a))),a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.logOut=a.logOut.bind(Object(y.a)(Object(y.a)(a))),"undefined"!=typeof e.history.location.state&&null!=e.history.location.state||a.props.history.push({pathname:"/unauth"}),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"handleChange",value:function(e){this.setState({inputText:e.target.value})}},{key:"handleSave",value:function(){this.setState({text:this.state.inputText,mode:"view"})}},{key:"handleEdit",value:function(){this.setState({mode:"edit"})}},{key:"logOut",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"display",value:function(){var e=this;_t.query({variables:{searchText:this.state.inputText},query:N()(kt())}).then(function(t){e.setState({result:t}),e.handleEdit(),console.log(e.state.result.data.allReports)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return"view"===this.state.mode?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(v.a,{className:"searchbar",color:"danger"},l.a.createElement("br",null),l.a.createElement("h2",null,l.a.createElement("i",{className:"fa fa-search "}),"\xa0\xa0Search for Report ",l.a.createElement("br",null)),l.a.createElement("form",null,l.a.createElement(v.p,{className:"searchboxheight",type:"text",placeholder:"Search using nid/phone/any kind of id",id:"inputText",onChange:this.handleChange,required:!0}),l.a.createElement("br",null),l.a.createElement(te,{size:"lg",color:"primary",onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"}),"  Search")," ",l.a.createElement("br",null)),l.a.createElement(te,{color:"warning",size:"lg",onClick:this.logOut},"LogOut"))),l.a.createElement(Te,null)):l.a.createElement("div",{className:"content"},l.a.createElement(v.y,{expand:"lg",color:"dark"},l.a.createElement(v.m,{inline:!0,className:"ml-auto"},l.a.createElement(v.n,null,l.a.createElement(v.p,{type:"text",placeholder:"Search",id:"searchText",onChange:this.handleChange})),l.a.createElement(te,{color:"neutral",icon:!0,round:!0,onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"})))),l.a.createElement("div",null,l.a.createElement(v.B,null,0===this.state.result.data.allReports.length&&l.a.createElement("div",{className:"searchCenter"},l.a.createElement(v.a,{color:"danger"},l.a.createElement("h3",null,"No report found corresponding to given id/nid/phone/passport/birthcirtificate.")),l.a.createElement("h4",null,l.a.createElement(v.a,{color:"info"},"You have inserted",l.a.createElement(v.a,{color:"light"},l.a.createElement("pre",null,this.state.inputText))))),this.state.result.data.allReports.map(function(t){var a=t.id,n=(t.imageid,t.imageUrl),r=t.phoneid,c=t.updatedAt,o=t.createdAt;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:n,alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.h,null,l.a.createElement("b",null,"Report added using (id/phone):")," ",r),l.a.createElement(v.h,null,l.a.createElement("b",null,"Prescription Added :")," ",o),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement("a",{key:a+4,href:n,target:"_blank"},l.a.createElement(te,{color:"primary"},"Download")),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Report Registered using ID/Phone : ",l.a.createElement("b",null,l.a.createElement("i",null,r)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:n}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Prescription Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",o)),l.a.createElement("tr",null,l.a.createElement("td",null,"Paitent contact no :  \xa0 ",r)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",c))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))}))),l.a.createElement(te,{className:"searchBtHelper",color:"warning",onClick:this.logOut},"LogOut"),l.a.createElement(Te,null))}}]),t}(l.a.Component),Nt=Object(w.withApollo)(Ct);function wt(){var e=Object(O.a)(["\n       mutation createReport($imageID: String, $imageUrl: String,  $phoneid: String){\n        createReport(\n         imageid : $imageID ,\n         imageUrl : $imageUrl ,\n         phoneid : $phoneid\n      ) {\n        id\n        phoneid\n        imageUrl\n      }\n    }\n    "]);return wt=function(){return e},e}var xt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).onDrop=function(e){var t=new FormData;t.append("data",e[0]),fetch(" https://api.graph.cool/file/v1/cjnaaji6g014p0127lqfjvz73",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){a.setState({imageId:e.id,imageUrl:e.url})})},a.back=a.back.bind(Object(y.a)(Object(y.a)(a))),a.submit=a.submit.bind(Object(y.a)(Object(y.a)(a))),a.lo=a.lo.bind(Object(y.a)(Object(y.a)(a))),a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),"undefined"==typeof e.history.location.state||null==e.history.location.state?a.props.history.push({pathname:"/unauth"}):a.state={modal:!1,phoneid:"",hospitalId:a.props.history.location.state.logInfo[0],logInfoToken:a.props.history.location.state.logInfo[1],hospitalName:a.props.history.location.state.logInfo[2],phnno:a.props.history.location.state.logInfo[3]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"lo",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"back",value:function(){this.props.history.push({pathname:"/userdashboard",state:{logInfo:[this.state.hospitalId,this.state.logInfoToken,this.state.hospitalName,this.state.phnno]}})}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"cphelperMain"},l.a.createElement("h2",null,"Add prescription / Report"),l.a.createElement("pre",{className:"cpHospitalText"},"Enter your NID/Birth Cirtificate no/ Passport No/ Phone No associated with ",l.a.createElement("b",null,"this account"),". ",l.a.createElement("br",null),"Upload the image of your prescription/report.",l.a.createElement("br",null),"The submit button will automatically apper on your screen."),l.a.createElement("div",{style:{maxWidth:400},className:"cphelperAfterMain"},l.a.createElement(v.p,{className:"cpHospitalInput",value:this.state.phoneid,placeholder:"NID/Birth Cirtificate no/ Passport No/ Phone No",onChange:function(t){return e.setState({phoneid:t.target.value})}}),l.a.createElement("br",null),!this.state.imageId&&l.a.createElement(Ne.a,{className:"dz",onDrop:this.onDrop,accept:"image/*",multiple:!1},l.a.createElement("div",null,l.a.createElement("b",null,"Drop an image or click to choose"))),this.state.imageUrl&&l.a.createElement("img",{src:this.state.imageUrl,role:"presentation",className:"w-100 mv3"}),this.state.phnno&&this.state.imageUrl&&l.a.createElement(te,{color:"success",className:"searchBtHelper",onClick:this.submit},l.a.createElement("i",{className:"fa fa-hdd "})," \xa0Post"),l.a.createElement(te,{type:"submit",value:"Submit",color:"info",className:"searchBtHelper",onClick:this.back},l.a.createElement("i",{className:"fa fa-angle-double-left "})," \xa0Back"),l.a.createElement(te,{type:"submit",value:"Submit",color:"danger",className:"searchBtHelper",onClick:this.lo},l.a.createElement("i",{className:"fa fa-sign-out-alt "})," \xa0Log Out"),l.a.createElement(v.r,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},l.a.createElement(v.u,{toggle:this.toggle}),l.a.createElement(v.s,{className:"crhosCenter"},l.a.createElement("img",{src:"https://nazrangrad.ru/wp-content/uploads/2018/01/check-mark-2180770_960_720.png"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",null,"Report Successfully Added")),l.a.createElement(v.t,null,l.a.createElement(te,{color:"info",onClick:this.back},"Back"),l.a.createElement(te,{color:"danger",onClick:this.lo},"Logout")))),l.a.createElement(Te,null))}},{key:"submit",value:function(){var e=Object(Z.a)(J.a.mark(function e(){var t=this;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t.mutate({mutation:N()(wt()),variables:{imageID:this.state.nid,imageUrl:this.state.imageUrl,phoneid:this.state.phoneid}}).then(function(e){t.toggle()}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(l.a.Component);function St(){var e=Object(O.a)(["\n    query allReports($phn: String, $nid: String){\n      \n      allReports(\n        filter : {\n          OR : [{\n            phoneid : $phn\n          }, {\n            phoneid : $nid\n          }\n          ]\n      }\n      ){\n        id\n        imageid\n        imageUrl\n        phoneid\n        createdAt\n        updatedAt\n      }\n    }\n    "]);return St=function(){return e},e}var It=function(e){return l.a.createElement(w.Query,{query:N()(St()),variables:{phn:e.state.phone,nid:e.state.nid}},function(t){var a=t.loading,n=t.error,r=t.data;return a?l.a.createElement("div",null,l.a.createElement(ne.a,{className:"loadingScreenAnimation",type:"spin",color:"white",height:"60%",width:"60%"})):n?l.a.createElement("p",null,"Error :("):r.allReports.map(function(t){var a=t.id,n=(t.imageid,t.imageUrl),r=t.phoneid,c=t.updatedAt,o=t.createdAt;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:n,alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.h,null,l.a.createElement("b",null,"Report added using (id/phone):")," ",r),l.a.createElement(v.h,null,l.a.createElement("b",null,"Prescription Added :")," ",o),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement("a",{key:a+4,href:n,target:"_blank"},l.a.createElement(te,{color:"primary"},"Download")),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Report Registered using ID/Phone : ",l.a.createElement("b",null,l.a.createElement("i",null,r)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:n}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Prescription Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",o)),l.a.createElement("tr",null,l.a.createElement("td",null,"Paitent contact no :  \xa0 ",r)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",c))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))})})},Pt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.back=a.back.bind(Object(y.a)(Object(y.a)(a))),"undefined"==typeof e.history.location.state||null==e.history.location.state?a.props.history.push({pathname:"/unauth"}):a.state={modal:!1,viewPresciptionId:null,logInfoId:a.props.history.location.state.logInfo[0],logInfoToken:a.props.history.location.state.logInfo[1],phone:a.props.history.location.state.logInfo[3],nid:a.props.history.location.state.logInfo[2],uname:a.props.history.location.state.logInfo[4]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"back",value:function(){this.props.history.push({pathname:"/userdashboard",state:{logInfo:[this.state.logInfoToken,this.state.logInfoId,this.state.phone,this.state.nid,this.state.uname]}})}},{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"render",value:function(){return l.a.createElement("div",{className:"content"},l.a.createElement(v.y,{expand:"lg",color:"dark"}),l.a.createElement("div",null,l.a.createElement(v.B,{className:"helper"},l.a.createElement(It,{toggle:this.toggle,state:this.state,delete:this.delete,preDelete:this.preDelete,up:this.up})),l.a.createElement(te,{type:"submit",value:"Submit",color:"info",className:"searchBtHelper",onClick:this.back},l.a.createElement("i",{className:"fa fa-angle-double-left "})," \xa0Back")))}}]),t}(l.a.Component);function Dt(){var e=Object(O.a)(["\n        query allReports($searchText: String!){\n      \n          allReports(\n            filter : {\n              phoneid : $searchText\n            }\n          ){\n            id\n            imageid\n            imageUrl\n            phoneid\n            createdAt\n            updatedAt\n          }\n          \n        }\n      "]);return Dt=function(){return e},e}var Ut=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={text:"",inputText:"",mode:"view",result:[]},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.handleSave=a.handleSave.bind(Object(y.a)(Object(y.a)(a))),a.handleEdit=a.handleEdit.bind(Object(y.a)(Object(y.a)(a))),a.display=a.display.bind(Object(y.a)(Object(y.a)(a))),a.toggle=a.toggle.bind(Object(y.a)(Object(y.a)(a))),a.logOut=a.logOut.bind(Object(y.a)(Object(y.a)(a))),"undefined"!=typeof e.history.location.state&&null!=e.history.location.state||a.props.history.push({pathname:"/unauth"}),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(e){this.setState({modal:!this.state.modal,viewPresciptionId:e})}},{key:"handleChange",value:function(e){this.setState({inputText:e.target.value})}},{key:"handleSave",value:function(){this.setState({text:this.state.inputText,mode:"view"})}},{key:"handleEdit",value:function(){this.setState({mode:"edit"})}},{key:"logOut",value:function(){this.props.history.push({pathname:"/auth"})}},{key:"display",value:function(){var e=this;_t.query({variables:{searchText:this.state.inputText},query:N()(Dt())}).then(function(t){e.setState({result:t}),e.handleEdit(),console.log(e.state.result.data.allReports)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return"view"===this.state.mode?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(v.a,{className:"searchbar",color:"danger"},l.a.createElement("br",null),l.a.createElement("h2",null,l.a.createElement("i",{className:"fa fa-search "}),"\xa0\xa0Search for Report ",l.a.createElement("br",null)),l.a.createElement("form",null,l.a.createElement(v.p,{className:"searchboxheight",type:"text",placeholder:"Search using nid/phone/any kind of id",id:"inputText",onChange:this.handleChange,required:!0}),l.a.createElement("br",null),l.a.createElement(te,{size:"lg",color:"primary",onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"}),"  Search")," ",l.a.createElement("br",null)),l.a.createElement(te,{color:"warning",size:"lg",onClick:this.logOut},"LogOut"))),l.a.createElement(Te,null)):l.a.createElement("div",{className:"content"},l.a.createElement(v.y,{expand:"lg",color:"dark"},l.a.createElement(v.m,{inline:!0,className:"ml-auto"},l.a.createElement(v.n,null,l.a.createElement(v.p,{type:"text",placeholder:"Search",id:"searchText",onChange:this.handleChange})),l.a.createElement(te,{color:"neutral",icon:!0,round:!0,onClick:this.display},l.a.createElement("i",{className:"nc-icon nc-zoom-split"})))),l.a.createElement("div",null,l.a.createElement(v.B,null,0===this.state.result.data.allReports.length&&l.a.createElement("div",{className:"searchCenter"},l.a.createElement(v.a,{color:"danger"},l.a.createElement("h3",null,"No report found corresponding to given id/nid/phone/passport/birthcirtificate.")),l.a.createElement("h4",null,l.a.createElement(v.a,{color:"info"},"You have inserted",l.a.createElement(v.a,{color:"light"},l.a.createElement("pre",null,this.state.inputText))))),this.state.result.data.allReports.map(function(t){var a=t.id,n=(t.imageid,t.imageUrl),r=t.phoneid,c=t.updatedAt,o=t.createdAt;return l.a.createElement(v.j,{key:a+1,xs:"auto"},l.a.createElement(v.c,{style:{width:"20rem"}},l.a.createElement(v.g,{top:!0,src:n,alt:"..."}),l.a.createElement(v.d,null,l.a.createElement(v.h,null,l.a.createElement("b",null,"Report added using (id/phone):")," ",r),l.a.createElement(v.h,null,l.a.createElement("b",null,"Prescription Added :")," ",o),l.a.createElement(te,{key:a+2,onClick:function(){e.toggle(a)},color:"primary"},"View"),l.a.createElement("a",{key:a+4,href:n,target:"_blank"},l.a.createElement(te,{color:"primary"},"Download")),l.a.createElement(v.r,{key:a+3,isOpen:e.state.modal&&e.state.viewPresciptionId===a,toggle:e.toggle},l.a.createElement(v.u,{toggle:e.toggle},l.a.createElement("p",null,"Report Registered using ID/Phone : ",l.a.createElement("b",null,l.a.createElement("i",null,r)))),l.a.createElement(v.s,null,l.a.createElement(v.E,{key:a+4,bordered:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:n}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Prescription Id : \xa0 ",a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Created at :  \xa0 ",o)),l.a.createElement("tr",null,l.a.createElement("td",null,"Paitent contact no :  \xa0 ",r)),l.a.createElement("tr",null,l.a.createElement("td",null,"Last Updated :  \xa0 ",c))))),l.a.createElement(v.t,null,l.a.createElement(te,{color:"secondary",onClick:e.toggle},"Back"))))))}))),l.a.createElement(te,{className:"searchBtHelper",color:"warning",onClick:this.logOut},"LogOut"),l.a.createElement(Te,null))}}]),t}(l.a.Component),At=Object(w.withApollo)(Ut),$t=new et.GraphQLClient("https://api.graph.cool/simple/v1/cjnaaji6g014p0127lqfjvz73",{headers:{}}),Tt=[{path:"/auth",name:"Auth",component:nt},{path:"/unauth",name:"Unauth",component:lt},{path:"/search",name:"Search",component:ot},{path:"/docdash",name:"Docdash",component:it},{path:"/cp_doc",name:"CP_doc",component:mt},{path:"/cp_hospital",name:"CP_Hospital",component:jt},{path:"/docsearch",name:"Docsearch",component:pt},{path:"/doc_prescription_update",name:"Doc_Prescription_Update",component:Et},{path:"/userdashboard",name:"UserDashboard",component:gt},{path:"/userprescription",name:"UserPrescription",component:yt},{path:"/hospitaldashboard",name:"HospitalDashboard",component:vt},{path:"/searchreport",name:"SearchReport",component:Nt},{path:"/cp_user",name:"CP_User",component:xt},{path:"/userreport",name:"UserReport",component:Pt},{path:"/searchreportdoc",name:"SearchReportDoc",component:At},{path:"/reg",name:"Reg",component:function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={email:"rid@wan2.com",password:"llalal"},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.reg=a.reg.bind(Object(y.a)(Object(y.a)(a))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(ve.a)({},e.target.id,e.target.value))}},{key:"reg",value:function(){return $t.request("\n     mutation(\n       $email : String!\n       $pass : String!\n     ){\n      createUser(\n        authProvider : {\n          email : {\n            email : $email\n            password : $pass\n          }\n        }\n        \n      ){\n        id\n      }\n    }\n   \n  ",{email:this.state.email,pass:this.state.password})}},{key:"render",value:function(){return l.a.createElement("div",{className:"authMain"},"Hi")}}]),t}(l.a.Component)},{path:"/",name:"Home",component:Ke}],qt=a(120),Rt=a(308);a.d(t,"client",function(){return _t});var Bt=Object(o.a)(),Mt=new Rt.a,_t=new qt.a({cache:Mt,uri:"https://api.graph.cool/simple/v1/cjnaaji6g014p0127lqfjvz73"});c.a.render(l.a.createElement(w.ApolloProvider,{client:_t},l.a.createElement(i.a,null,l.a.createElement(s.a,{history:Bt},l.a.createElement(m.a,null,Tt.map(function(e,t){return l.a.createElement(u.a,{path:e.path,key:t,component:e.component})}))))),document.getElementById("root"))}},[[123,2,1]]]);
//# sourceMappingURL=main.50bbdce7.chunk.js.map